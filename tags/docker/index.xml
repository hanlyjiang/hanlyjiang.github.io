<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Docker on 清水池塘</title>
    <link>https://hanlyjiang.github.io/tags/docker/</link>
    <description>Recent content in Docker on 清水池塘</description>
    <generator>Hugo -- 0.152.2</generator>
    <language>zh-cn</language>
    <lastBuildDate>Wed, 21 Apr 2021 16:51:40 +0000</lastBuildDate>
    <atom:link href="https://hanlyjiang.github.io/tags/docker/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Docker数据目录(/var/lib/docker)迁移</title>
      <link>https://hanlyjiang.github.io/posts/docker%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95%E8%BF%81%E7%A7%BB/</link>
      <pubDate>Wed, 21 Apr 2021 16:51:40 +0000</pubDate>
      <guid>https://hanlyjiang.github.io/posts/docker%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95%E8%BF%81%E7%A7%BB/</guid>
      <description>&lt;p&gt;本文介绍如何安全的迁移Docker的数据目录/var/lib/docker&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;为什么要迁移&#34;&gt;为什么要迁移&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;虚拟机创建时，一般分配一个比较小的系统盘，然后挂载一个大容量的数据盘，docker默认情况下数据存储在系统盘(/var/lib/docker)目录，时间一久，会占满系统盘。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;迁移步骤&#34;&gt;迁移步骤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;首先需要停止docker服务&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;systemctl stop docker
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;通过命令df -h 先去看下磁盘大概的情况，找一个大的空间&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;创建docker的新目录，我这边找了data, 所以我这边的新目录地址是 /data/docker/lib/&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;

mkdir -p /data/docker/lib
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;注：参数-p 确保目录名称存在，如果目录不存在的就新创建一个。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Docker构建Arm架构镜像-通用步骤</title>
      <link>https://hanlyjiang.github.io/posts/docker-arm%E6%9E%B6%E6%9E%84%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA-%E9%80%9A%E7%94%A8%E6%AD%A5%E9%AA%A4/</link>
      <pubDate>Wed, 19 Aug 2020 17:20:59 +0000</pubDate>
      <guid>https://hanlyjiang.github.io/posts/docker-arm%E6%9E%B6%E6%9E%84%E9%95%9C%E5%83%8F%E6%9E%84%E5%BB%BA-%E9%80%9A%E7%94%A8%E6%AD%A5%E9%AA%A4/</guid>
      <description>&lt;p&gt;介绍ARM版本的Docker镜像的构建，包括ARM机器上Docker的安装，在ARM机器上构建镜像，及在amd64机器上使用buildx交叉构建arm版本镜像。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;现在很多地方都对服务的国产化适配有所要求，一般的国产化平台都提供arm版本的linux云环境供我们进行服务部署，因此需要构建arm版本的镜像。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
