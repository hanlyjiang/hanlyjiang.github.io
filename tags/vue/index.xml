<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Vue on 清水池塘</title>
    <link>https://hanlyjiang.github.io/tags/vue/</link>
    <description>Recent content in Vue on 清水池塘</description>
    <generator>Hugo -- 0.152.2</generator>
    <language>zh-cn</language>
    <lastBuildDate>Fri, 20 Mar 2020 10:18:50 +0000</lastBuildDate>
    <atom:link href="https://hanlyjiang.github.io/tags/vue/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Android-WebView中Java同JS的交互</title>
      <link>https://hanlyjiang.github.io/posts/android-webview%E4%B8%ADjava%E5%90%8Cjs%E7%9A%84%E4%BA%A4%E4%BA%92/</link>
      <pubDate>Fri, 20 Mar 2020 10:18:50 +0000</pubDate>
      <guid>https://hanlyjiang.github.io/posts/android-webview%E4%B8%ADjava%E5%90%8Cjs%E7%9A%84%E4%BA%A4%E4%BA%92/</guid>
      <description>&lt;p&gt;Android提供的几种JS同Java交互的方式介绍，通过一个实例介绍通过&lt;code&gt;evaluateJavascript&lt;/code&gt;调用JS方法。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;android提供的js原生交互api&#34;&gt;Android提供的js原生交互API&lt;/h2&gt;
&lt;h3 id=&#34;android调用-js-代码&#34;&gt;Android调用 JS 代码：&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;通过WebView的 &lt;strong&gt;loadUrl()&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;通过WebView的 &lt;strong&gt;evaluateJavascript()&lt;/strong&gt; 方法&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Android调用 JS 代码主要使用 第二种方法。&lt;/p&gt;
&lt;h3 id=&#34;js-调用-android-代码&#34;&gt;JS 调用 Android 代码：&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;通过 WebView 的 addJavascriptInterface() 进行对象映射&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;通过&lt;strong&gt;WebChromeClient&lt;/strong&gt;的 &lt;strong&gt;onJsAlert&lt;/strong&gt;() 、&lt;strong&gt;onJsConfirm&lt;/strong&gt;()、&lt;strong&gt;onJsPrompt&lt;/strong&gt;() 方法回调拦截JS对话框&lt;strong&gt;alert&lt;/strong&gt;()、&lt;strong&gt;confirm&lt;/strong&gt;()、&lt;strong&gt;prompt&lt;/strong&gt;() 消息&lt;/li&gt;
&lt;li&gt;通过&lt;strong&gt;WebViewClient&lt;/strong&gt;的&lt;strong&gt;shouldOverrideUrlLoading()&lt;/strong&gt; 方法回调拦截 url&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;第2和第3中方式能力有限，所以主要是第一种。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
