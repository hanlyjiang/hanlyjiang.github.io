{
  "posts": [
    {
      "content": "\n> åŸæ–‡é“¾æ¥ï¼šhttps://i-rant.arnaudbos.com/matrices-for-developers/#technical-challenge\n\nå‡ å‘¨å‰ï¼Œæˆ‘åœ¨ä¸€ä¸ªandroid-user-groupé¢‘é“ä¸Šï¼Œæœ‰äººé—®ä¸€ä¸ªå…³äºAndroidçš„Matrix.postScaleï¼ˆsxï¼Œsyï¼Œpxï¼Œpyï¼‰æ–¹æ³•åŠå…¶å·¥ä½œåŸç†çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒâ€œéš¾ä»¥æŒæ¡â€ã€‚ \n\nåœ¨2016å¹´åˆï¼Œæˆ‘åœ¨ä¸€ä¸ªAndroidåº”ç”¨ç¨‹åºä¸Šå®Œæˆäº†ä¸€ä¸ªè‡ªç”±é¡¹ç›®ï¼Œåœ¨å…¶ä¸­æˆ‘å¿…é¡»å®ç°ä¸€ä¸ªä»¤äººå…´å¥‹çš„åŠŸèƒ½ï¼š \n\nç”¨æˆ·åœ¨è´­ä¹°å¹¶ä¸‹è½½äº†å²©å£çš„æ•°å­—åœ°å½¢åï¼Œå¿…é¡»èƒ½å¤ŸæŸ¥çœ‹ç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆçš„å²©å£ï¼š \n\n* æ‚¬å´–çš„ç…§ç‰‡ï¼Œ \n* åŒ…å«çˆ¬å¡è·¯çº¿å åŠ å±‚çš„SVGæ–‡ä»¶ã€‚ \n\nç”¨æˆ·å¿…é¡»å…·æœ‰éšæ„å¹³ç§»å’Œç¼©æ”¾çš„èƒ½åŠ›ï¼Œå¹¶ä¸”å¿…é¡»å…·æœ‰â€œè·Ÿéšâ€å›¾ç‰‡çš„è·¯çº¿å±‚ã€‚ \n\n| APPæˆªå›¾1                                                     | APPæˆªå›¾2                                                     | APPæˆªå›¾3                                                     |\n| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |\n| <img src=\"Matrices for developers_files/ca-screenshot-1.png\" alt=\"img\" style=\"zoom:25%;\" /> | <img src=\"Matrices for developers_files/ca-screenshot-2.png\" alt=\"img\" style=\"zoom:25%;\" /> | <img src=\"Matrices for developers_files/ca-screenshot-3.png\" alt=\"img\" style=\"zoom:25%;\" /> |\n\n\n\n## ç›®å½•\n\n[toc]\n\n## æŠ€æœ¯æŒ‘æˆ˜\n\nä¸ºäº†è®©æ”€çˆ¬è·¯çº¿çš„å›¾å±‚èƒ½å¤Ÿè·Ÿéšç”¨æˆ·çš„æ‰‹åŠ¿æ“ä½œï¼Œæˆ‘å‘ç°æˆ‘ä¸å¾—ä¸é‡è½½Android ImageViewï¼Œåœ¨Canvasä¸Šç»˜åˆ¶å¹¶å¤„ç†æ‰‹æŒ‡æ‰‹åŠ¿ã€‚ ä½œä¸ºä¸€åä¼˜ç§€çš„å·¥ç¨‹å¸ˆï¼šæˆ‘æœç´¢äº†Stack OverflowğŸ˜… æˆ‘å‘ç°éœ€è¦`android.graphics.Matrix`ç±»è¿›è¡Œ2Dè½¬æ¢ã€‚ \n\nè¿™ä¸ªç±»çš„é—®é¢˜åœ¨äºï¼Œä»æ–¹æ³•åç§°æ¥è¯´ï¼Œä½ èƒ½å¾ˆæ¸…æ¥šçš„äº†è§£å®ƒçš„ä½œç”¨ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰æ²¡æœ‰ä¸€å®šçš„æ•°å­¦èƒŒæ™¯çŸ¥è¯†ï¼Œä½ å¾ˆéš¾äº†è§£å®ƒèƒŒåæ˜¯æ€ä¹ˆå®ç°çš„ï¼Œæ¯”æ–¹è¯´ä¸‹é¢æ˜¯matrixçš„æŸä¸ªæ–¹æ³•çš„APIæ–‡æ¡£è¯´æ˜ï¼š\n\n> boolean postScale (float sx, float sy, float px, float py)\n>\n> Postconcats the matrix with the specified scale. Mâ€™ = S(sx, sy, px, py) * M\n\nä»æ–‡æ¡£çœ‹èµ·å®ƒå¯ä»¥é€šè¿‡æŸäº›å‚æ•°ç¼©æ”¾æŸäº›ä¸œè¥¿ï¼Œå¹¶é€šè¿‡æŸç§ä¹˜æ³•æ¥å®Œæˆå®ƒã€‚ä¸è¿‡æˆ‘è¿˜æ˜¯æœ‰å¾ˆå¤šç–‘é—®ï¼š \n\n* å®ƒåˆ°åº•æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ ç¼©æ”¾çŸ©é˜µï¼Ÿ é‚£æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæˆ‘æƒ³ç¼©æ”¾ç”»å¸ƒâ€¦ \n* æˆ‘åº”è¯¥ä½¿ç”¨preScaleè¿˜æ˜¯postScaleï¼Ÿ å½“æˆ‘ä»ä»æ‰‹åŠ¿æ£€æµ‹ä»£ç è·å–è¾“å…¥å‚æ•°ï¼Œç„¶åè¿›å…¥å°è¯•å’Œé”™è¯¯çš„æ— é™å¾ªç¯æ—¶ï¼Œæ˜¯å¦éœ€è¦å°è¯•åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Ÿ \n\nå› æ­¤ï¼Œåœ¨å¼€å‘è¿‡ç¨‹çš„è¿™ä¸€åˆ»ï¼Œæˆ‘æ„è¯†åˆ°åœ¨å®Œæˆå¤§å­¦çš„å¤´ä¸¤å¹´åï¼Œæˆ‘éœ€è¦é‡æ–°å­¦ä¹ å¾ˆå¤šå¹´å‰å…³äºçŸ©é˜µçš„åŸºæœ¬æ•°å­¦æŠ€èƒ½ã€‚ \n\n\n\nåœ¨æœå¯»ç½‘ç»œèµ„æ–™æ—¶ï¼Œæˆ‘å‘ç°äº†å¾ˆå¤šä¸é”™çš„èµ„æºï¼Œå¹¶ä¸”èƒ½å¤Ÿå†æ¬¡å­¦ä¹ ä¸€äº›æ•°å­¦çŸ¥è¯†ã€‚ é€šè¿‡å°†æˆ‘çš„ç†è§£åº”ç”¨åˆ°Javaå’ŒAndroidä¸­çš„ä»£ç ï¼Œå®ƒè¿˜å¸®åŠ©æˆ‘è§£å†³äº†2Dè½¬æ¢é—®é¢˜ã€‚ å› æ­¤ï¼Œè€ƒè™‘åˆ°æˆ‘åœ¨ä¸Šé¢æåˆ°çš„é¢‘é“ä¸Šè¿›è¡Œçš„è®¨è®ºï¼Œä¼¼ä¹æˆ‘ä¸æ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨çŸ©é˜µä¸­è‹¦è‹¦æŒ£æ‰çš„äººï¼Œè¯•å›¾å¼„æ˜ç™½è¿™ä¸€ç‚¹ï¼Œå¹¶åœ¨Androidçš„Matrixç±»å’Œæ–¹æ³•ä¸­ä½¿ç”¨è¿™äº›æŠ€èƒ½ï¼Œæ‰€ä»¥æˆ‘æƒ³æˆ‘ä¼šå†™ä¸€ç¯‡æ–‡ç« ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯å…³äºçŸ©é˜µçš„ï¼Œç¬¬äºŒéƒ¨åˆ†â€œ[ä½¿ç”¨Androidå’ŒJavaè¿›è¡Œ2Dè½¬æ¢](https://i-rant.arnaudbos.com/2d-transformations-android-java/)â€æ˜¯å…³äºå¦‚ä½•åœ¨Javaå’ŒAndroidä¸Šå°†å…³äºçŸ©é˜µçš„çŸ¥è¯†åº”ç”¨åˆ°ä»£ç ä¸­ã€‚ \n\n## Matrixæ˜¯ä»€ä¹ˆï¼Ÿ\n\næˆ‘åœ¨å¯æ±—å­¦é™¢ï¼ˆKhan Academyï¼‰ä¸Šå‘ç°ä¸€é—¨[å…³äºçŸ©é˜µçš„å¾ˆå¥½çš„ä»£æ•°è¯¾ç¨‹](https://www.khanacademy.org/math/algebra-home/alg-matrices)ã€‚ \n\nå¦‚æœä½ ä¹Ÿé‡åˆ°æ­¤ç±»é—®é¢˜ï¼Œæˆ‘è§‰å¾—ä½ ä¹Ÿå¯ä»¥èŠ±æ—¶é—´æ¥å­¦ä¹ è¿™ä¸ªè¯¾ç¨‹ï¼Œç­‰åˆ°ä½ è§‰å¾—â€œåŸæ¥å°±æ˜¯è¿™æ ·â€ï¼Œå°±å·®ä¸å¤šäº†ã€‚å®é™…ä¸Šå­¦ä¹ è¿™äº›è¯¾ç¨‹åªéœ€å‡ ä¸ªå°æ—¶çš„æŠ•èµ„ï¼Œè€Œä¸”è¯¾ç¨‹æ˜¯å…è´¹çš„ï¼Œä½ ä¸€å®šä¸ä¼šåæ‚”ã€‚ \n\nçŸ©é˜µæ“…é•¿è¡¨ç¤ºæ•°æ®ï¼Œæ‰€ä»¥å¯¹çŸ©é˜µçš„æ“ä½œå¯ä»¥å¸®åŠ©æ‚¨è§£å†³æ­¤æ•°æ®ä¸Šçš„é—®é¢˜ã€‚è¿˜è®°å¾—åœ¨å­¦æ ¡å¿…é¡»è§£çº¿æ€§æ–¹ç¨‹ç»„å—ï¼Ÿ\n\nè§£çº¿æ€§æ–¹ç¨‹ç»„æœ€å¸¸è§æ–¹æ³•ï¼ˆè‡³å°‘æ˜¯æˆ‘ç ”ç©¶è¿‡çš„ä¸¤ç§æ–¹æ³•ï¼‰æ˜¯æ¶ˆå…ƒæ³•æˆ–è¡Œå‡å°‘æ–¹æ³•ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨çŸ©é˜µæ¥è¿›è¡Œçº¿æ€§æ–¹ç¨‹ç»„çš„æ±‚è§£ã€‚\n\nçŸ©é˜µåœ¨æ¯ä¸ªç§‘å­¦åˆ†æ”¯ä¸­éƒ½å¤§é‡ä½¿ç”¨ï¼Œå®ƒä»¬ä¹Ÿå¯ä»¥ç”¨äºçº¿æ€§å˜æ¢æ¥æè¿°ç‚¹åœ¨ç©ºé—´ä¸­çš„ä½ç½®ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­ç®€è¦ç ”ç©¶çš„ã€‚ \n\n### è§£åˆ¨\n\nç®€å•æ¥è¯´ï¼ŒçŸ©é˜µæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå®é™…ä¸Šï¼Œä¸€ä¸ª $m\\ \\times n$ çš„çŸ©é˜µå¯ä»¥å¯¹åº”äºä¸€ä¸ªé•¿åº¦ä¸º $m$ çš„æ•°ç»„ï¼Œè¯¥æ•°ç»„çš„æ¯ä¸ªitemæ˜¯å¦å¤–ä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„æ•°ç»„ã€‚ é€šå¸¸æ¥è¯´ $m$ ä»£è¡¨äº†è¡Œæ•°ï¼Œ$n$ ä»£è¡¨åˆ—æ•°ï¼Œmatrixä¸­çš„æ¯ä¸ªå…ƒç´ ç§°ä¹‹ä¸º æ¡ç›®-$entry$ .\n\nçŸ©é˜µä½¿ç”¨ä¸€ä¸ªç²—ä½“å¤§å†™å­—æ¯è¡¨ç¤ºï¼Œæ¯ä¸ª $entry$ ä½¿ç”¨å¯¹åº”çš„å°å†™å­—æ¯è¡¨ç¤ºï¼ŒåŒæ—¶ä½¿ç”¨è¡Œå·å’Œåˆ—å·ç»„åˆæˆä¸ºä¸‹æ ‡ï¼Œä¸€ä¸ªçŸ©é˜µçš„ç¤ºä¾‹å¦‚ä¸‹ï¼š\n$$\n\\textbf{A} = \\begin{pmatrix} \na_{11} & a_{12} &  ...  & a_{1n} \\\\ \na_{21} & a_{12} &  ...  & a_{1n} \\\\ \nâ‹® & â‹® &  â‹±  & â‹® \\\\ \na_{m1} & a_{m2} &  ...  & a_{mn} \\\\ \n\\end{pmatrix}\n$$\n\n\næ¥ä¸‹æ¥æˆ‘ä»¬å°†å­¦ä¹ çŸ©é˜µçš„ä¸€äº›è¿ç®—ï¼š[åŠ æ³•å’Œå‡æ³•](https://www.khanacademy.org/bigbingo_redirect?continue=https%3A%2F%2Fwww.khanacademy.org%2Fmath%2Falgebra-home%2Falg-matrices%2Falg-adding-and-subtracting-matrices%2Fv%2Fmatrix-addition-and-subtraction-1&conversion_ids=condensed_tutorial_title_click)å’Œ[ä¹˜æ³•ï¼ˆmultiplicationï¼‰](https://www.khanacademy.org/math/algebra-home/alg-matrices/alg-multiplying-matrices-by-matrices/a/multiplying-matrices)ã€‚ \n\n### åŠ æ³•å’Œå‡æ³•\n\n[çŸ©é˜µçš„åŠ æ³•å’Œå‡æ³•](https://www.khanacademy.org/bigbingo_redirect?continue=https%3A%2F%2Fwww.khanacademy.org%2Fmath%2Falgebra-home%2Falg-matrices%2Falg-adding-and-subtracting-matrices%2Fv%2Fmatrix-addition-and-subtraction-1&conversion_ids=condensed_tutorial_title_click)æ˜¯é€šè¿‡çŸ©é˜µçš„ç›¸åº”çš„entryç›¸åŠ æˆ–ç›¸å‡æ¥å®Œæˆçš„ï¼Œè®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š\n$$\n\\textbf{A} + \\textbf{B} = \\begin{pmatrix} \na_{11} & a_{12} &  ...  & a_{1n} \\\\ \na_{21} & a_{12} &  ...  & a_{1n} \\\\ \nâ‹® & â‹® &  â‹±  & â‹® \\\\ \na_{m1} & a_{m2} &  ...  & a_{mn} \\\\ \n\\end{pmatrix} + \n\\begin{pmatrix} \nb_{11} & b_{12} &  ...  & b_{1n} \\\\ \nb_{21} & b_{12} &  ...  & b_{1n} \\\\ \nâ‹® & â‹® &  â‹±  & â‹® \\\\ \nb_{m1} & b_{m2} &  ...  & b_{mn} \\\\ \n\\end{pmatrix}= \n\\begin{pmatrix} \na_{11} + b_{11} & a_{12}+b_{12} &  ...  & a_{1n}+b_{1n} \\\\ \na_{21}+b_{21} \t& a_{12}+b_{12} &  ...  & a_{1n}+b_{1n} \\\\ \nâ‹® \t\t\t\t&\tâ‹® \t\t\t&   â‹±  \t& \tâ‹® \t\t\t\\\\ \na_{m1}+b_{m1} \t& a_{m2}+b_{m2} &  ...  & a_{mn}+b_{mn} \\\\ \n\\end{pmatrix}\n$$\nä»ä¸Šé¢çš„è®¡ç®—æ–¹å¼å¯ä»¥ç¡®å®šï¼ŒçŸ©é˜µçš„åŠ æ³•å’Œå‡æ³•åªèƒ½æ˜¯ä¸¤ä¸ªå…·æœ‰ç›¸åŒç»´åº¦ï¼ˆ$m \\times n$ï¼‰çš„çŸ©é˜µä¹‹é—´è¿›è¡Œï¼›\n\n**åŠ æ³•ç¤ºä¾‹ï¼š**\n$$\n\\textbf{A} + \\textbf{B} = \\begin{pmatrix} \n4 & -8  &  7 \\\\ \n0 & 2 &  3 \\\\ \n15 & 4 & 9 \\\\\n\\end{pmatrix} + \n\\begin{pmatrix} \n-5 & 2  & 3 \\\\\n4 & -1 & 6 \\\\\n0 & 12 & 3 \\\\\n\\end{pmatrix}= \n\\begin{pmatrix} \n4+(-5) & (-8)+2 & 7+3 \\\\\n0+4 & 2+(-1) & (-1)+6 \\\\\n15+0 & 4+12 & 9+3 \\\\\n\\end{pmatrix}= \n\\begin{pmatrix} \n-1 & -6 & 10 \\\\\n4 & 1 & -5 \\\\\n15 & 16 & 12 \\\\\n\\end{pmatrix}\n$$\n\n**å‡æ³•ç¤ºä¾‹ï¼š**\n$$\n\\textbf{A} + \\textbf{B} = \n\\begin{pmatrix} \n    4 & -8  &  7 \\\\ \n    0 & 2 &  3 \\\\ \n    15 & 4 & 9 \\\\\n\\end{pmatrix}+ \n\\begin{pmatrix} \n    -5 & 2  & 3 \\\\\n    4 & -1 & 6 \\\\\n    0 & 12 & 3 \\\\\n\\end{pmatrix}= \n\\begin{pmatrix} \n    4-(-5) & (-8)-2 & 7-3 \\\\\n    0-4 & 2-(-1) & (-1)-6 \\\\\n    15-0 & 4-12 & 9-3 \\\\\n\\end{pmatrix}= \n\\begin{pmatrix} \n    9  &  -10  &   4 \\\\\n    -4  &   3  &  -7 \\\\\n    15  &  -8  &   6 \\\\\n\\end{pmatrix}\n$$\n\n\n### çŸ©é˜µä¹˜æ³•\n\nä¸Šæ•°å­¦è¯¾çš„æ—¶å€™ï¼Œè€å¸ˆè¯´è¿‡ï¼šâ€œä½ ä¸èƒ½åœ¨æ©˜å­é‡ŒåŠ è‹¹æœï¼Œè¿™æ˜¯æ²¡æœ‰é“ç†çš„â€ï¼Œç„¶åå‘Šè¯‰æˆ‘ä»¬å•ä½åœ¨è¿ç®—ä¸­çš„é‡è¦æ€§ï¼Œä¹Ÿå°±æ˜¯ä¸åŒå•ä½çš„æ“ä½œæ•°ä¸èƒ½è¿›è¡Œè¿ç®—ã€‚ \n\nä½†æ˜¯ï¼Œå¯¹äºçŸ©é˜µæ¥è¯´ï¼Œè‹¹æœå’Œæ©™å­ç›¸ä¹˜æ˜¯åˆæ³•çš„ï¼Œæˆ‘ä»¬åªèƒ½å°†çŸ©é˜µåŠ åˆ°ç›¸åŒç»´åº¦çš„çŸ©é˜µä¸Šï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å°†çŸ©é˜µä¸æ•°å­—å’Œå…¶ä»–ç»´åº¦ä¸åŒçš„çŸ©é˜µç›¸ä¹˜ã€‚ \n\n#### æ ‡é‡ $\\times$ çŸ©é˜µ\n\nåœ¨çŸ©é˜µçš„ä¹˜æ³•ä¸­ï¼Œå•ä¸€çš„æ•°å­—å®é™…ä¸Šåº”è¯¥ç§°ä¹‹ä¸ºæ ‡é‡ï¼ˆ$\\textbf{scalar}$ï¼‰ï¼Œä¸‹é¢çš„è¿ç®—ä¸­ï¼Œå®é™…ä¸Šä¸æ˜¯å°†çŸ©é˜µä¹˜ä»¥æ•°å­—ï¼Œè€Œæ˜¯å°†çŸ©é˜µä¹˜ä»¥æ ‡é‡ã€‚çŸ©é˜µä¹˜ä»¥æ ‡é‡çš„è®¡ç®—æ–¹å¼æ˜¯ï¼š**å°†çŸ©é˜µä¸­çš„æ¯ä¸ªæ¡ç›®ä¹˜ä»¥æ ‡é‡ï¼Œç„¶åå¾—åˆ°å¦å¤–ä¸€ä¸ªçŸ©é˜µ**ã€‚ \n$$\n\\textit{k} . \\textbf{A} =  \n\\textit{k} .\n\\begin{pmatrix} \na_{11} & a_{12} &  ...  & a_{1n} \\\\ \na_{21} & a_{12} &  ...  & a_{1n} \\\\ \nâ‹® & â‹® &  â‹±  & â‹® \\\\ \na_{m1} & a_{m2} &  ...  & a_{mn} \\\\ \n\\end{pmatrix}= \n\\begin{pmatrix} \n\\textit{k} . a_{11} & \\textit{k} . a_{12} &  ...  & \\textit{k} . a_{1n} \\\\ \n\\textit{k} .a_{21} \t& \\textit{k} . a_{12} &  ...  & \\textit{k} . a_{1n} \\\\ \nâ‹® \t\t\t\t&\tâ‹® \t\t\t&   â‹±  \t& \tâ‹® \t\t\t\\\\ \n\\textit{k} .a_{m1} \t& \\textit{k} . a_{m2} &  ...  & \\textit{k} . a_{mn} \\\\ \n\\end{pmatrix}\n$$\nä¸€ä¸ªç®€å•çš„**ç¤ºä¾‹**å¦‚ä¸‹ï¼š\n$$\n4 . \\begin{pmatrix}\n0 & 3 & 12 \\\\\n7 & -5 & 1 \\\\\n-8 & 2 & 0  \\\\\n\\end{pmatrix} =  \n\\begin{pmatrix}\n0 & 12 & 48 \\\\\n28 & -20 & 4 \\\\\n-32 & 8 & 0  \\\\\n\\end{pmatrix} \n$$\n\n\n#### çŸ©é˜µ $\\times$ çŸ©é˜µ\n\nå¦å¤–ä¸€ç§çŸ©é˜µä¹˜æ³•å°±æ˜¯ [çŸ©é˜µä¹˜ä»¥çŸ©é˜µ](https://www.khanacademy.org/math/algebra-home/alg-matrices/alg-multiplying-matrices-by-matrices/a/multiplying-matrices) ï¼ŒçŸ©é˜µä¹˜æ³•è¿ç®—èµ·æ¥ç¨å¾®æœ‰ç‚¹å¤æ‚ï¼Œå› ä¸ºæˆ‘ä»¬å¹¶ä¸èƒ½ç®€å•çš„å¯¹åº”çš„entryè¿›è¡Œä¹˜æ³•è¿ç®—ï¼Œå…·ä½“è®¡ç®—è§„åˆ™æˆ‘ä»¬ç›´æ¥çœ‹ç»´åŸºç™¾ç§‘çš„è¯´æ˜ï¼š\n\n> å¦‚æœ $\\mathbf{A}$ æ˜¯ä¸€ä¸ª $m \\times n$ çš„ çŸ©é˜µï¼Œ$\\mathbf{B}$ æ˜¯ä¸€ä¸ª $n \\times p$ çš„matrix, é‚£ä¹ˆå®ƒä»¬çš„çŸ©é˜µä¹˜ç§¯ $\\mathbf{AB}$ æ˜¯ä¸€ä¸ª $m \\times p \\$çš„çŸ©é˜µ, \n>\n> å…¶ä¸­çŸ©é˜µ $\\mathbf{A}$ è¡Œä¸­çš„ $n$ ä¸ªæ¡ç›®ä¸çŸ©é˜µ $\\mathbf{B}$ åˆ—ä¸­çš„ $n$ ä¸ªæ¡ç›® ç›¸ä¹˜å¹¶æ±‚å’Œ å¾—å‡ºçŸ©é˜µ $\\mathbf{AB}$ çš„æ¡ç›®ã€‚\n\nçœ‹èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œè®©æˆ‘ä»¬é€æ®µåˆ†è§£çš„æ¥çœ‹ï¼š\n\n> å¦‚æœ $\\mathbf{A}$ æ˜¯ä¸€ä¸ª $m \\times n$ çš„ çŸ©é˜µï¼Œ$\\mathbf{B}$ æ˜¯ä¸€ä¸ª $n \\times p$ çš„matrix, é‚£ä¹ˆå®ƒä»¬çš„çŸ©é˜µä¹˜ç§¯ $\\mathbf{AB}$ æ˜¯ä¸€ä¸ª $m \\times p$ çš„çŸ©é˜µ\n\nä¸Šé¢çš„è§„åˆ™æˆ‘ä»¬å¯ä»¥å†™æˆï¼š $\\mathbf{A}_{m \\times n}  \\times \\mathbf{B}_{n \\times p} = \\mathbf{AB}_{m \\times p}$\n\nçœ‹ä¸€ä¸ªç®€å•çš„çŸ©é˜µ $\\mathbf{A}_{2 \\times 3} = \\begin{pmatrix} a_{11} & a_{12} & a_{13} \\\\ a_{21}&a_{22}&a_{23} \\end{pmatrix}$ å’Œå¦å¤–ä¸€ä¸ªçŸ©é˜µ $\\mathbf{B}_{3 \\times 1} = \\begin{pmatrix} b_{11} \\\\ b_{21} \\\\ b_{31}  \\end{pmatrix}$ ï¼Œè¿™é‡Œ$m = 2, n=3, p=1$ï¼Œæ‰€ä»¥çŸ©é˜µä¹˜ç§¯ä¸ºä¸€ä¸ª$2\\times1$çš„çŸ©é˜µï¼š $\\mathbf{AB}=\\begin{pmatrix} ab_{11} \\\\ ab_{12} \\end{pmatrix}$ã€‚\n\næ¥ä¸‹æ¥æˆ‘ä»¬åˆ†è§£ç¬¬äºŒéƒ¨åˆ†ï¼š\n\n* ==çŸ©é˜µ $\\mathbf{A}$ è¡Œä¸­çš„ $n$ ä¸ªæ¡ç›®== æŒ‡çš„æ˜¯ï¼šçŸ©é˜µ $\\mathbf{A}$ çš„æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ª $n=3$ çš„æ•°ç»„ï¼Œç¬¬ä¸€è¡Œæˆ‘ä»¬å¯ä»¥è®°ä¸º $a_{11}, a_{12} , a_{13}$\n* ==çŸ©é˜µ $\\mathbf{B}$ åˆ—ä¸­çš„ $n$ ä¸ªæ¡ç›®== æŒ‡çš„æ˜¯ï¼šçŸ©é˜µ $\\mathbf{B}$ ä¸­çš„æ¯ä¸€åˆ—ä¹Ÿæ˜¯ä¸€ä¸ª $n=3$ çš„æ•°ç»„ï¼Œç¬¬ä¸€åˆ—å¯ä»¥è®°ä¸ºï¼š $b_{11}, b_{12} , b_{13}$\n* ==ç›¸ä¹˜== æŒ‡ï¼š $\\mathbf{A}$ çš„è¡Œä¸­çš„æ¯ä¸ªæ¡ç›®éƒ½ä¸ $\\mathbf{B}$ çš„åˆ—ä¸­çš„æ¯ä¸ªå¯¹åº”æ¡ç›®ä¸€ä¸€ç›¸ä¹˜ï¼ˆç¬¬ä¸€ä¸ªæ¡ç›®å¯¹åº”ç¬¬ä¸€ä¸ªï¼Œç¬¬äºŒå¯¹ç¬¬äºŒï¼Œä¾æ¬¡ï¼‰ï¼Œç»“æœå°±æ˜¯ï¼š$a_{11} \\times b_{11}, a_{12} \\times b_{12} \\ å’Œ \\  a_{13} \\times b_{13}$\n* ==æ±‚å’Œ== æŒ‡ï¼šç´¯åŠ è¿™äº›å¯¹åº”çš„è¡Œå’Œåˆ—æ¡ç›®çš„ä¹˜ç§¯ï¼Œå¾—åˆ°æ–°çš„çŸ©é˜µåœ¨è¯¥è¡Œå·å’Œåˆ—å·å¤„çš„æ–°çš„æ¡ç›®ï¼Œæ–°çš„æ¡ç›®çš„å€¼ä¸ºï¼š$a_ {11} \\times b_ {11} + a_ {12} \\times b_ {21} + a_{13} \\times b_ {31}$\n\n$$\n\\mathbf{A} = \\begin{pmatrix} a_{11} & a_{12} & \\cdots & a_{1n}\\\\ a_{21} & a_{22} & \\vdots & a_{2n}\\\\ \\vdots & \\vdots & \\ddots & \\vdots\\\\ a_{m1} & a_{m2} & \\cdots & a_{mn} \\end{pmatrix} \\text{, } \\mathbf{B} = \\begin{pmatrix} b_{11} & b_{12} & \\cdots & b_{1p}\\\\ b_{21} & b_{22} & \\vdots & b_{2p}\\\\ \\vdots & \\vdots & \\ddots & \\vdots\\\\ b_{n1} & b_{n2} & \\cdots & b_{np} \\end{pmatrix} \\\\ \\\\\n\\mathbf{AB} = \\begin{pmatrix} ab_{11} & ab_{12} & \\cdots & ab_{1p}\\\\ ab_{21} & ab_{22} & \\vdots & ab_{2p}\\\\ \\vdots & \\vdots & \\ddots & \\vdots\\\\ ab_{m1} & ab_{m2} & \\cdots & ab_{mp} \\end{pmatrix} \\text{å…¶ä¸­ } ab_{ij}=\\sum_{k=1}^{m}a_{ik}b_{kj}\n$$\n\næˆ‘ä»¬ç”¨ä¸€ä¸ªå¯è§†åŒ–çš„æ–¹å¼æ¥è¡¨ç¤ºè¿™ä¸ªè¿‡ç¨‹ï¼š\n\n![Matrix multiplication diagram 2](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210308191112.png)\n\n$$\n\\mathbf{A} = \\begin{pmatrix} 4 & 3\\\\ 0 & -5\\\\ 2 & 1\\\\ -6 & 8 \\end{pmatrix} \\text{, } \\mathbf{B} = \\begin{pmatrix} 7 & 1 & 3\\\\ -2 & 4 & 1 \\end{pmatrix}\n\\\\ \n\\begin{aligned} \\mathbf{AB} &= \\begin{pmatrix} 4\\times7+3\\times\\left(-2\\right) & 4\\times1+3\\times4 & 4\\times3+3\\times1\\\\ 0\\times7+\\left(-5\\right)\\times\\left(-2\\right) & 0\\times1+\\left(-5\\right)\\times4 & 0\\times3+\\left(-5\\right)\\times1\\\\ 2\\times7+1\\times\\left(-2\\right) & 2\\times1+1\\times4 & 2\\times3+1\\times1\\\\ \\left(-6\\right)\\times7+8\\times\\left(-2\\right) & \\left(-6\\right)\\times1+8\\times4 & \\left(-6\\right)\\times3+8\\times1 \\end{pmatrix}\\\\\\\\ &= \\begin{pmatrix} 28-6 & 4+12 & 12+3\\\\ 0+10 & 0-20 & 0-5\\\\ 14-2 & 2+4 & 6+1\\\\ -42-16 & -6+32 & -18+8 \\end{pmatrix}\\\\\\\\ \\mathbf{AB} &= \\begin{pmatrix} 22 & 16 & 15\\\\ 10 & -20 & -5\\\\ 12 & 6 & 7\\\\ -58 & 26 & -10 \\end{pmatrix} \\end{aligned}\n$$\n\n\n> æ³¨æ„ï¼š\n>\n> ä¸ºäº†å®šä¹‰çŸ©é˜µä¹˜æ³•ï¼Œ==ç¬¬ä¸€ä¸ªçŸ©é˜µä¸­çš„åˆ—æ•°==å¿…é¡»ç­‰äº==ç¬¬äºŒä¸ªçŸ©é˜µä¸­çš„è¡Œæ•°==ã€‚\n\n>Matlabè¿ç®—ï¼š\n>\n>`>>`A = [4 3 ; 0 -5; 2 1 ; -6 8]\n>\n>A =\n>\n>     4     3\n>     0    -5\n>     2     1\n>    -6     8\n>\n>`>>`B = [7 1 3 ; -2 4 1]\n>\n>B =\n>\n>     7     1     3\n>    -2     4     1\n>\n>`>>`A*B\n>\n>ans =\n>\n>    22    16    15\n>    10   -20    -5\n>    12     6     7\n>   -58    26   -10\n>\n>`>>`B*A\n>\n><p style=\"color:red\">é”™è¯¯ä½¿ç”¨  * <br/>\n>\n><p style=\"color:red\">ç”¨äºçŸ©é˜µä¹˜æ³•çš„ç»´åº¦ä¸æ­£ç¡®ã€‚è¯·æ£€æŸ¥å¹¶ç¡®ä¿ç¬¬ä¸€ä¸ªçŸ©é˜µä¸­çš„åˆ—æ•°ä¸ç¬¬äºŒä¸ªçŸ©é˜µä¸­\n>çš„è¡Œæ•°åŒ¹é…ã€‚è¦æ‰§è¡ŒæŒ‰å…ƒç´ ç›¸ä¹˜ï¼Œè¯·ä½¿ç”¨ '.*'ã€‚</p>\n>\n>\n>\n>`>>`A+B\n>\n><p style=\"color:red\">çŸ©é˜µç»´åº¦å¿…é¡»ä¸€è‡´ã€‚</p>\n\n**äº†è§£æ›´å¤šï¼š**\n\n* [äº†è§£æ›´å¤š](https://www.khanacademy.org/math/algebra-home/alg-matrices/alg-properties-of-matrix-multiplication/v/defined-and-undefined-matrix-operations)\n* [äº†è§£æ›´å¤š](https://www.khanacademy.org/math/algebra-home/alg-matrices/alg-properties-of-matrix-multiplication/a/matrix-multiplication-dimensions)\n\n## å˜æ¢çŸ©é˜µ\n\nç°åœ¨æˆ‘ä»¬çŸ¥é“äº†çŸ©é˜µæ˜¯ä»€ä¹ˆï¼Œå¹¶ä¸”çŸ¥é“çŸ©é˜µå¦‚ä½•ç›¸ä¹˜ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹çŸ©é˜µå¦‚ä½•åº”ç”¨äºäºŒç»´å˜æ¢ï¼›\n\n### è½¬æ¢ç‚¹\n\næ­£å¦‚ä¹‹å‰æ‰€è¯´ï¼ŒçŸ©é˜µå¯ä»¥è¢«ç”¨äºè¡¨ç¤ºçº¿æ€§æ–¹ç¨‹ç»„ï¼Œå‡è®¾æˆ‘ä»¬æœ‰å¦‚ä¸‹æ–¹ç¨‹ç»„ï¼š\n$$\n2x + y = 5 \\\\\n-x + 2y = 0\n$$\nå¦‚æœä½ å¯¹çŸ©é˜µä¹˜æ³•å¾ˆç†Ÿæ‚‰ï¼Œä½ å¯èƒ½çœ‹åˆ°ä¸Šè¿°æ–¹ç¨‹ä¸­éšè—çš„çŸ©é˜µä¹˜æ³•ï¼š\n$$\n\\begin{pmatrix}\n2 & 1 \\\\\n-1 & 2 \\\\ \n\\end{pmatrix} \n. \n\\begin{pmatrix}\nx \\\\ y \n\\end{pmatrix}=\n\\begin{pmatrix}\n5 \\\\ 0\n\\end{pmatrix}\n$$\nå¦‚æœä½ çœ‹çš„æ›´æ·±ä¸€ç‚¹ï¼Œä½ å¯èƒ½ä¼šå‘ç°åŸºäºçŸ©é˜µ$\\begin{pmatrix} x \\\\ y \\end{pmatrix}$ å’Œ $\\begin{pmatrix} 5 \\\\ 0 \\end{pmatrix}$çš„ä¸€äº›è§„å¾‹ã€‚\n\né‚£å°±æ˜¯ï¼šè¿™ä¸¤ä¸ªçŸ©é˜µéƒ½å¯ä»¥è¢«ç”¨æ¥ä»£è¡¨ç¬›å¡å°”å¹³é¢ä¸­çš„ç‚¹ï¼Œä¸€ä¸ªç‚¹å¯ä»¥ç”¨æºè‡ªåŸç‚¹çš„å‘é‡è¡¨ç¤ºï¼Œè¿™ä¸ªå‘é‡æ˜¯ä¸€ä¸ª $2Ã—1$ çš„çŸ©é˜µã€‚ \n\næˆ‘ä»¬ç°åœ¨çŸ¥é“äº†ä¸€ä¸ªçŸ©é˜µä¹˜æ³•å°±ä»£è¡¨äº†ä¸€ä¸ªç‚¹åˆ°å¦å¤–ä¸€ä¸ªç‚¹çš„è½¬æ¢ï¼Œå°½ç®¡æˆ‘ä»¬ç›®å‰è¿˜ä¸çŸ¥é“ç¬¬ä¸€ä¸ªç‚¹çš„åæ ‡æ˜¯ä»€ä¹ˆï¼Œä¸è¿‡ä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“ï¼Œç»™å®šä¸€ä¸ªä½ç½®çŸ¢é‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡çŸ©é˜µä¹˜æ³•è¿ç®—å°†å…¶è½¬æ¢ä¸ºå¦å¤–ä¸€ä¸ªçŸ¢é‡ã€‚\n\nå¦‚æœä¸€ä¸ªç‚¹ $\\mathbf{P}$ æ˜¯ä¸€ä¸ªå€¼ä¸º$\\begin{pmatrix} x\\\\y \\end{pmatrix}$ çš„ä½ç½®çŸ¢é‡ï¼Œæˆ‘ä»¬å¯ä»¥ä¹˜ä¸€ä¸ªçŸ©é˜µæ¥å¾—åˆ°ä¸€ä¸ªæ–°çš„ç‚¹ $\\mathbf{P}^{'}$\n\nå®ƒå¯ä»¥é€šè¿‡ä½ç½®çŸ¢é‡ $\\begin{pmatrix} x^{'} \\\\ y^{'} \\end{pmatrix}$ æ¥è¡¨ç¤ºï¼›\n\nä¸€ä¸ªé‡è¦çš„ç‚¹åœ¨äºï¼Œä¸ºäº†æ»¡è¶³çŸ©é˜µä¹˜æ³•çš„è¦æ±‚ï¼Œ[çŸ©é˜µå˜æ¢](https://www.khanacademy.org/math/algebra-home/alg-matrices/alg-matrices-as-transformations/v/transforming-position-vector)å¿…é¡»æ‹¥æœ‰ç‰¹å®šçš„ç»´åº¦ï¼Œå› ä¸ºæºä½ç½®çŸ¢é‡ $\\begin{pmatrix} x\\\\y \\end{pmatrix}$ æ˜¯ä¸€ä¸ª $2\\times 1$ çš„çŸ©é˜µï¼Œè€Œç›®æ ‡ä½ç½®çŸ¢é‡ $\\begin{pmatrix} x^{'} \\\\ y^{'} \\end{pmatrix}$ ä¹Ÿæ˜¯ä¸€ä¸ª $2 \\times 1$ çš„çŸ©é˜µï¼Œæ‰€ä»¥å˜æ¢çŸ©é˜µå¿…é¡»æ˜¯ä¸€ä¸ª $2 \\times 2$ çš„çŸ©é˜µï¼Œè¿™æ ·æ‰èƒ½æ»¡è¶³çŸ©é˜µä¹˜æ³•çš„è¦æ±‚ï¼š\n$$\n\\mathbf{A} . \\begin{pmatrix} x\\\\y \\end{pmatrix} = \\begin{pmatrix} a_{11} & a_{12}\\\\ a_{21} & a_{22} \\end{pmatrix} . \\begin{pmatrix} x\\\\y \\end{pmatrix} = \\begin{pmatrix} x^{\\prime}\\\\y^{\\prime} \\end{pmatrix}\n$$\n\n> 1. ç¬¬ä¸€ä¸ªçŸ©é˜µçš„åˆ—æ•°å¿…é¡»ç­‰äºç¬¬äºŒä¸ªçŸ©é˜µçš„è¡Œæ•°ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªçŸ©é˜µçš„åˆ—æ•°éœ€è¦ä¸º 2 \n> 2. çŸ©é˜µç›¸ä¹˜å¾—åˆ°çš„çŸ©é˜µçš„å°ºå¯¸ä¸º $ç¬¬ä¸€ä¸ªçŸ©é˜µçš„è¡Œæ•° \\times ç¬¬äºŒä¸ªçŸ©é˜µçš„åˆ—æ•°$ï¼Œä¸ºäº†å¾—åˆ°ä¸€ä¸ª $2 \\times 1$ çš„ç»“æœçŸ©é˜µï¼Œåˆ™==ç¬¬ä¸€ä¸ªçŸ©é˜µçš„è¡Œæ•°== ä¸º 2\n> 3. æ•…å˜æ¢çŸ©é˜µçš„è¡Œåˆ—æ•°ä¸ºï¼š$2 \\times 2$\n> 4. æç¤ºï¼šåé¢æˆ‘ä»¬ä¼šçœ‹åˆ°ï¼ŒçŸ©é˜µä¹˜æ³•ä¸­çš„é¡ºåºå¾ˆé‡è¦ã€‚æ¯”æ–¹è¯´ä¸Šé¢çš„çŸ©é˜µä¹˜æ³•ï¼Œå¦‚æœè°ƒæ¢ $\\mathbf{A}$ å’Œ $\\begin{pmatrix} x\\\\y \\end{pmatrix}$ çš„é¡ºåºï¼Œåˆ™æ— æ³•è·å¾—ä¸€ä¸ªæ–°çš„ç‚¹ï¼š $P_{2\\times1} . A_{1\\times n}=P^{'}_{2 \\times n}$ï¼ˆä¸æˆç«‹ï¼‰\n\n>  è½¬æ¢çŸ©é˜µçš„å¦å¤–ä¸€ä¸ªéå¸¸å¥½ç”¨çš„åœ°æ–¹åœ¨äºï¼Œå®ƒå¯ä»¥åŒæ—¶[æ‰¹é‡çš„è½¬æ¢ä¸€æ‰¹ç‚¹](https://www.khanacademy.org/math/algebra-home/alg-matrices/alg-matrices-as-transformations/v/matrix-transformation-triangle)ï¼›\n\n$$\n\\mathbf{A} . \\begin{pmatrix} x\\\\y \\end{pmatrix} = \\begin{pmatrix} a_{11} & a_{12}\\\\ a_{21} & a_{22} \\end{pmatrix} . \\begin{pmatrix} x\\\\y \\end{pmatrix} = \\begin{pmatrix} x^{\\prime}\\\\y^{\\prime} \\end{pmatrix}\n$$\n\n\n\nå‡è®¾ä½ çŸ¥é“æ‰€éœ€è¦çš„åº”ç”¨çš„æ‰€æœ‰è½¬æ¢ç±»å‹ï¼ˆ`rotation`,`scale`,`translation`ï¼‰åŠå…¶ä»–å‚æ•°ã€‚\n\né‚£ä¹ˆï¼Œå¦‚ä½•è·å¾—ç¼©æ”¾2å€å¹¶æ²¿ç€é¡ºæ—¶é’ˆæ–¹å‘æ—‹è½¬90åº¦çš„è½¬æ¢çŸ©é˜µå‘¢ï¼Ÿ \n\nç­”æ¡ˆæ˜¯ï¼šæˆ‘ä»¬éœ€è¦æ›´å¤šæ•°å­¦çŸ¥è¯†ã€‚\n\n### æ›´å¤šæ•°å­¦çŸ¥è¯† \n\nå»ºè®®å¤§å®¶é˜…è¯»[æ­¤è¯¾ç¨‹](https://www.khanacademy.org/math/algebra-home/alg-matrices/alg-matrices-as-transformations/a/matrices-as-transformations)ä¸­æœ‰å…³å˜æ¢çš„çŸ©é˜µè¯¾ç¨‹ï¼ˆå…¶ä¸­æœ‰å¤§é‡ç²¾ç¾çš„å›¾ç¤ºå’ŒåŠ¨ç”»ï¼‰ï¼Œç‰¹åˆ«æ˜¯å®ƒçš„æœ€åä¸€éƒ¨åˆ†ï¼š*ç”¨çŸ©é˜µè¡¨ç¤ºäºŒç»´çº¿æ€§å˜æ¢*ï¼Œè®²çš„éå¸¸ä¸é”™ï¼›\n\nå›åˆ°æˆ‘ä»¬åˆšæ‰è®¨è®ºçš„é—®é¢˜ï¼Œç°åœ¨è®©æˆ‘ä»¬äº†è§£æ›´å¤šæ•°å­¦çŸ¥è¯†å§ã€‚\n\nç°åœ¨æˆ‘å‡è®¾ä½ å­¦ä¹ äº†ä¸Šé¢çš„è¯¾ç¨‹ï¼Œä¸‹é¢çš„éƒ¨åˆ†æ˜¯å¯¹è¯¥è¯¾ç¨‹çš„ç®€å•å›é¡¾ï¼š\n\n* ä¸€ä¸ªä½ç½®çŸ¢é‡ $\\begin{pmatrix}x \\\\ y \\end{pmatrix}$ å¯ä»¥è¢«è¡¨ç¤ºä¸º ï¼š $\\begin{pmatrix}x \\\\ y \\end{pmatrix} = x . \\begin{pmatrix} \\color{Green}1 \\\\ \\color{Green}0 \\end{pmatrix} + y . \\begin{pmatrix} \\color{Red}0 \\\\ \\color{Red}1 \\end{pmatrix}$\n\n  > **è§£é‡Šï¼š**\n  >\n  > $\\begin{pmatrix}x \\\\ y \\end{pmatrix}$ å¯ä»¥è¢«åˆ†è§£ä¸ºä¸€ä¸ªçŸ©é˜µåŠ æ³•è¿ç®—ï¼š $\\begin{pmatrix}x \\\\ y \\end{pmatrix} = \\begin{pmatrix}x \\\\ 0 \\end{pmatrix} + \\begin{pmatrix}0 \\\\ y \\end{pmatrix}$ \n  >\n  > å…¶ä¸­çš„æ¯ä¸ªåŠ æ³•çš„è¿ç®—çŸ©é˜µéƒ½å¯ä»¥è¢«ç»§ç»­æ‹†åˆ†ä¸ºä¸€ä¸ªæ ‡é‡åŒçŸ©é˜µçš„ä¹˜æ³•ï¼š\n  >\n  > * $\\begin{pmatrix} x \\\\ 0 \\end{pmatrix} = x . \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix}$ \n  > * $\\begin{pmatrix} 0 \\\\ y \\end{pmatrix} = y . \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$ \n  >\n  > ç°åœ¨ï¼Œæˆ‘ä»¬çœ‹å…¶ä¸­çš„çŸ©é˜µ $\\begin{pmatrix} 1\\\\0 \\end{pmatrix}$ å’Œ $\\begin{pmatrix} 0 \\\\1 \\end{pmatrix}$ï¼Œå…¶å®å®ƒä»¬æ˜¯ç¬›å¡å°”åæ ‡å¹³é¢çš„å•ä½çŸ¢é‡ï¼›\n  >\n  > å› æ­¤ï¼Œ $\\begin{pmatrix}x \\\\ y \\end{pmatrix} = x . \\begin{pmatrix} \\color{Green}1 \\\\ \\color{Green}0 \\end{pmatrix} + y . \\begin{pmatrix} \\color{Red}0 \\\\ \\color{Red}1 \\end{pmatrix}$ å°±æ˜¯ä½ç½®çŸ¢é‡ $\\begin{pmatrix}x \\\\ y \\end{pmatrix}$ çš„å¦å¤–ä¸€ç§å†™æ³•ï¼Œå®ƒä»£è¡¨äº†ç”±æˆ‘ä»¬çš„ç¬›å¡å°”å¹³é¢çš„å•ä½å‘é‡çš„å˜æ¢ç»™å‡ºçš„ç‚¹ã€‚ \n\n* åœ¨åº”ç”¨äº†å˜æ¢çŸ©é˜µ$\\mathbf{A} = \\begin{pmatrix} \\color{Green} a & \\color{Red} b\\\\ \\color{Green} c & \\color{Red} d \\end{pmatrix}$ ä¹‹åï¼Œ $\\begin{pmatrix} \\color{Green}a\\\\\\color{Green}c \\end{pmatrix}$ å’Œ $\\begin{pmatrix}\\color{Red} b\\\\ \\color{Red} d\\end{pmatrix}$ å°†è¢«åˆ†åˆ«æ”¾ç½®äº $\\begin{pmatrix} \\color{Green}1 \\\\ \\color{Green}0 \\end{pmatrix}$ å’Œ $\\begin{pmatrix} \\color{Red}0 \\\\ \\color{Red}1 \\end{pmatrix}$ çš„ä½ç½®ï¼›\n\n  > **è§£é‡Šï¼š**\n  >\n  > æˆ‘ä»¬ä¾ç„¶ä»å•ä½çŸ¢é‡ $\\begin{pmatrix} \\color{Green}1 \\\\ \\color{Green}0 \\end{pmatrix}$å’Œ $\\begin{pmatrix} \\color{Red}0 \\\\ \\color{Red}1 \\end{pmatrix}$ å¼€å§‹\n  >\n  > æˆ‘ä»¬çŸ¥é“ $\\begin{pmatrix}x \\\\ y \\end{pmatrix} = x . \\begin{pmatrix} \\color{Green}1 \\\\ \\color{Green}0 \\end{pmatrix} + y . \\begin{pmatrix} \\color{Red}0 \\\\ \\color{Red}1 \\end{pmatrix}$ï¼Œç°åœ¨æˆ‘ä»¬æƒ³åƒä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬åº”ç”¨ä¸€ä¸ªå˜æ¢åˆ°æˆ‘ä»¬çš„å¹³é¢ä¸Šï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„å•ä½çŸ¢é‡ä¹Ÿä¼šéšä¹‹å˜æ¢å§ï¼Ÿ \n  >\n  > æˆ‘ä»¬å‡è®¾å˜æ¢å $\\begin{pmatrix} \\color{Green}1 \\\\ \\color{Green}0 \\end{pmatrix}$ ä¼šåè½åœ¨ $\\begin{pmatrix} \\color{Green}a \\\\ \\color{Green}c \\end{pmatrix}$ ä¸Šï¼Œè€Œ$\\begin{pmatrix} \\color{Red}0 \\\\ \\color{Red}1 \\end{pmatrix}$ ä¼šè½åœ¨ $\\begin{pmatrix} \\color{Red}b \\\\ \\color{Red}d \\end{pmatrix}$ ä¸Šï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ä½ç½®çŸ¢é‡ $\\begin{pmatrix}x \\\\ y \\end{pmatrix}$ å°†ä¼šè½åœ¨ $x. \\begin{pmatrix} \\color{Green}{a\\\\c} \\end{pmatrix} + y. \\begin{pmatrix} \\color{Red}{b\\\\d} \\end{pmatrix} = \\begin{pmatrix} \\color{Green}{a}.x + \\color{Red}{b}.y \\\\ \\color{Green}{c}.x +\\color{Red}{d}.y\\end{pmatrix}$\n\n* ç»è¿‡ä¸Šé¢çš„çŸ©é˜µå˜æ¢ï¼Œ$\\begin{pmatrix} x \\\\ y \\end{pmatrix}$ å°†ä¼šåè½äº $\\begin{pmatrix} \\color{Green}a.x + \\color{Red}b.y \\\\ \\color{Green}c.x + \\color{Red}d.y \\\\ \\end{pmatrix}$\n\nå¦‚æœä½ æ— æ³•ç†è§£ä¸Šé¢çš„å˜æ¢è¿‡ç¨‹ï¼Œè¯·å­¦ä¹ ä¸Šé¢çš„è¯¾ç¨‹å¹¶åå¤é˜…è¯»ã€‚\n\n\n\nç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®æˆ‘ä»¬çš„ç›®æ ‡ï¼Œå°±æ˜¯ï¼šæˆ‘ä»¬éœ€è¦æ‰¾å‡ºæˆ‘ä»¬çš„å˜æ¢çŸ©é˜µ $\\mathbf{A}$ ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“äº†æˆ‘ä»¬æƒ³è¦åº”ç”¨çš„è½¬æ¢ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦æ‰¾åˆ°é‚£ä¸ªèƒ½å¤Ÿåº”ç”¨åˆ°æˆ‘ä»¬çš„ä½ç½®çŸ¢é‡ä¸Šæ¥è½¬æ¢æˆ‘ä»¬å›¾å½¢çš„çŸ©é˜µï¼›\n\nè®©æˆ‘ä»¬ä»¥ä¸€ç³»åˆ—ç‚¹çš„è½¬æ¢ä¸ºä¾‹ï¼šæˆ‘ä»¬çŸ¥é“ä½ç½®çŸ¢é‡å°†åˆ°è¾¾çš„ä½ç½®ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦æ±‚å‡ºçŸ©é˜µ $\\mathbf{A}$ ã€‚ \n\næˆ‘ä»¬çš„ç¬›å¡å°”å¹³é¢ä¸Šæœ‰ä¸€ä¸ªç”±ä¸‰ä¸ªç‚¹ $\\mathbf{P}_{(2,1)},\\mathbf{Q}_{(2,0)}  \\mathbf{R}_{(0,2)}$ Pç»„æˆçš„ä¸‰è§’å½¢ï¼Œ ä»¥åŠå¦ä¸€ä¸ªä»£è¡¨ç¬¬ä¸€ä¸ªä¸‰è§’å½¢çš„å˜æ¢ç‰ˆæœ¬çš„ä¸‰è§’å½¢ï¼š$\\mathbf{P}^{'}_{(5,0)},\\mathbf{Q}^{'}_{(-4,2)}  \\mathbf{R}^{'}_{(2,4)}$ \n\n![2D-transformed-triangle](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210308214033.png)\n\nä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬åªéœ€è¦ä¸¤ä¸ªç‚¹å°±å¯ä»¥æ±‚è§£å‡ºçŸ©é˜µ$\\mathbf{A}$ï¼Œæˆ‘ä»¬ä½¿ç”¨ $\\mathbf{P}$ å’Œ $\\mathbf{Q}$ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå˜æ¢ä¹‹åï¼š\n$$\n\\begin{pmatrix} 2\\\\ 1 \\end{pmatrix} \\text{ ä½äº } \\begin{pmatrix} 5\\\\ 0 \\end{pmatrix} \n\\\\\n\\\\\n\\begin{pmatrix} -2\\\\ 0 \\end{pmatrix} \\text{ ä½äº } \\begin{pmatrix} -4\\\\ 2 \\end{pmatrix}\n$$\nä¹Ÿå°±æ˜¯è¯´ï¼š\n$$\n\\begin{pmatrix} x\\\\ y \\end{pmatrix} = \\begin{pmatrix} 2\\\\ 1 \\end{pmatrix} \\text{ ä½äº } \\begin{pmatrix} a.x+b.y\\\\ c.x+d.y \\end{pmatrix} = \\begin{pmatrix} 5\\\\ 0 \\end{pmatrix}\n\\\\\n\\\\\n\\begin{pmatrix} x\\\\ y \\end{pmatrix} = \\begin{pmatrix} -2\\\\ 0 \\end{pmatrix} \\text{ ä½äº } \\begin{pmatrix} a.x+b.y\\\\ c.x+d.y \\end{pmatrix} = \\begin{pmatrix} -4\\\\ 2 \\end{pmatrix}\n$$\nç®€åŒ–ä¹‹åå°±æ˜¯ï¼š\n$$\n\\begin{pmatrix} 2.a+1.b\\\\ 2.c+1.d \\end{pmatrix} = \\begin{pmatrix} 5\\\\ 0 \\end{pmatrix}\n\\\\\n\\begin{pmatrix} -2.a+0.b\\\\ -2.c+0.d \\end{pmatrix} = \\begin{pmatrix} -4\\\\ 2 \\end{pmatrix}\n$$\né€šè¿‡ç¬¬2ä¸ªç­‰å¼å¯ä»¥ç®—å‡ºï¼Œ $a=2$ ï¼Œ$c=-1$ï¼Œä»£å…¥åˆ°ç¬¬ä¸€ä¸ªç­‰å¼ä¸­å¯ä»¥å¾—å‡ºï¼š $b=1$, $d =2$ï¼Œç°åœ¨æˆ‘ä»¬å¾—åˆ°äº†æˆ‘ä»¬çš„å˜æ¢çŸ©é˜µï¼š\n$$\n\\mathbf{A} = \\begin{pmatrix} \\color{Green} 2 & \\color{Red} 1\\\\ \\color{Green} -\\color{Green} 1 & \\color{Red} 2 \\end{pmatrix}\n$$\n\n### å•ä½çŸ©é˜µ\n\nç°åœ¨æˆ‘ä»¬è¿˜ä¸çŸ¥é“å¦‚ä½•å®šä¹‰ä¸€ä¸ªè½¬æ¢çŸ©é˜µï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“å®ƒçš„è¡¨ç¤ºå½¢å¼ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¦åšä»€ä¹ˆå‘¢ï¼Ÿè¿˜è®°å¾—åœ¨ä¸Šä¸€ä¸ªå°èŠ‚ä¸­ï¼Œæˆ‘ä»¬è¯´è¿‡ï¼Œä¸€ä¸ªä½ç½®$\\begin{pmatrix}x \\\\ y \\end{pmatrix}$ å¯ä»¥è¢«è¡¨ç¤ºä¸º $\\begin{pmatrix}x \\\\ y \\end{pmatrix} = x . \\begin{pmatrix} \\color{Green}1 \\\\ \\color{Green}0 \\end{pmatrix} + y . \\begin{pmatrix} \\color{Red}0 \\\\ \\color{Red}1 \\end{pmatrix}$ ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ï¼Œæˆ‘ä»¬åˆšåˆšåˆ—å‡ºäº†æˆ‘ä»¬çš„==åŸºæœ¬==çŸ©é˜µï¼š\n\n$$\n\\begin{pmatrix} \\color{Green}1 & \\color{Red}0 \\\\ \\color{Green} 0  & \\color{Red} 1 \\end{pmatrix}\n$$\n\nè¿™ä¸ªçŸ©é˜µä»£è¡¨äº†ä½ çš„å¹³é¢çš„åŸºç¡€çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯åˆšåŠ è½½å›¾åƒæ—¶åº”ç”¨äºå¹³é¢çš„çŸ©é˜µï¼ˆå›¾åƒä¸å…¶å˜æ¢åçš„å®¹å™¨è§†å›¾çš„å¤§å°ç›¸åŒï¼‰ï¼Œæ¢ä¸€ç§è¯´æ³•å°±æ˜¯ï¼Œåº”ç”¨äº†è¿™ä¸ªçŸ©é˜µçš„ä½ç½®çŸ¢é‡å°†ä¼šè¿”å›ä¸€æ ·çš„ä½ç½®çŸ¢é‡ã€‚è¿™æ ·çš„çŸ©é˜µå°±ç§°ä¹‹ä¸º ==å•ä½çŸ©é˜µ==([identity matrix](https://www.khanacademy.org/math/algebra-home/alg-matrices/alg-properties-of-matrix-multiplication/a/intro-to-identity-matrices))\n\n### ç»“åˆå¤šç§å˜æ¢\n\nåœ¨æˆ‘ä»¬äº†è§£æ›´å¤šç»†èŠ‚ä¹‹å‰ï¼Œè¿˜æœ‰ä¸€ä»¶äº‹ï¼Œå°±æ˜¯ï¼šæˆ‘ä»¬å¸Œæœ›ç”¨æˆ·èƒ½å¤Ÿç»„åˆ/é“¾æ¥å¤šç§å˜æ¢ï¼ˆä¾‹å¦‚ï¼ŒåŒæ—¶ç¼©æ”¾å’Œå¹³ç§»ï¼‰ã€‚ \n\nä¸ºäº†èƒ½é“¾æ¥å¤šä¸ªè½¬æ¢ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£[çŸ©é˜µä¹˜æ³•çš„æ€§è´¨](https://www.khanacademy.org/math/algebra-home/alg-matrices/alg-properties-of-matrix-multiplication/a/properties-of-matrix-multiplication) ã€‚æ›´å…·ä½“çš„è¯´æ˜¯æˆ‘ä»¬éœ€è¦äº†è§£çŸ©é˜µä¹˜æ³•çš„==éäº¤æ¢æ€§(non-commutative)==å’Œ==ç»“åˆæ€§==(associative)\n\n* çŸ©é˜µä¹˜æ³•æ˜¯å¯ç»“åˆçš„ï¼š $\\left(\\mathbf{A}.\\mathbf{B}\\right).\\mathbf{C} = \\mathbf{A}.\\left(\\mathbf{B}.\\mathbf{C}\\right)$\n* çŸ©é˜µä¹˜æ³•æ˜¯ä¸å¯äº¤æ¢çš„ï¼š$\\mathbf{A}.\\mathbf{B} \\neq \\mathbf{B}.\\mathbf{A}$\n\nå›åˆ°æˆ‘ä»¬çš„å˜æ¢ï¼Œæƒ³è±¡æˆ‘ä»¬æƒ³è¦åº”ç”¨å˜æ¢ $\\mathbf{B}$ ,ç„¶ååº”ç”¨å˜æ¢ $\\mathbf{A}$ åˆ°æˆ‘ä»¬çš„ä½ç½®çŸ¢é‡ $\\vec{v}$ ,ä¸¤æ¬¡å˜æ¢å¯ä»¥åˆ†åˆ«è¡¨ç¤ºä¸ºï¼š$\\vec{v^{\\prime}} = \\mathbf{B} . \\vec{v}$ åŠ $\\vec{v^{\\prime\\prime}} = \\mathbf{A} . \\vec{v^{\\prime}}$ ,ç»“åˆä¸‹æ¥ï¼š\n\n$$\n\\vec{v^{\\prime\\prime}} = \\mathbf{A} . \\left( \\mathbf{B} . \\vec{v} \\right)\n$$\nå› ä¸ºçŸ©é˜µä¹˜æ³•æ˜¯å¯ä»¥ç»“åˆçš„ï¼Œæ‰€ä»¥ï¼š\n$$\n\\vec{v^{\\prime\\prime}} = \\mathbf{A} . \\left( \\mathbf{B} . \\vec{v} \\right) \\Leftrightarrow \\vec{v^{\\prime\\prime}} = \\left( \\mathbf{A} . \\mathbf{B} \\right) . \\vec{v}\n$$\nå› ä¸ºçŸ©é˜µä¹˜æ³•æ˜¯ä¸å¯äº¤æ¢çš„ï¼Œæ‰€ä»¥ä¸¤ä¸ªå˜æ¢çŸ©é˜µçš„åº”ç”¨é¡ºåºä¸å¯æ”¹å˜ï¼Œå³ $\\mathbf{A}.\\mathbf{B}$ ä¸èƒ½å˜æ¢æˆ $\\mathbf{B}.\\mathbf{A}$ï¼Œå¦åˆ™å°†ä¼šäº§ç”Ÿä¸åŒçš„å˜æ¢æ•ˆæœï¼›\n\n> æ³¨æ„è¿™é‡ŒçŸ©é˜µå˜æ¢åº”ç”¨çš„é¡ºåºå’Œè½¬æ¢æˆä¹˜æ³•ä¹‹åçš„çŸ©é˜µé¡ºåºï¼Œæˆ‘ä»¬å…ˆåº”ç”¨$\\mathbf{B}$ï¼Œç„¶åå†åº”ç”¨ $\\mathbf{A}$ï¼Œç»“åˆä¹‹åçš„é¡ºåºæ˜¯ ï¼š$\\mathbf{A.B}$\n\n## å˜æ¢ç±»å‹\n\nä½¿ç”¨ $2\\times2$ çš„çŸ©é˜µæˆ‘ä»¬å¯ä»¥å®šä¹‰å¤šç§ä¸åŒç±»å‹çš„äºŒç»´å˜æ¢ç±»å‹ï¼Œä½ å¯èƒ½å·²ç»åœ¨è¯¾ç¨‹  [matrices as transformations](https://www.khanacademy.org/math/algebra-home/alg-matrices/alg-matrices-as-transformations/a/matrices-as-transformations) ä¸­äº†è§£äº†å…¶ä¸­çš„å¤§éƒ¨åˆ†å˜æ¢ï¼Œè¿™äº›å˜æ¢åŒ…æ‹¬ï¼š\n\n* ç¼©æ”¾\n* Reflexion-åå°„\n* Shearing\n* Rotation-æ—‹è½¬\n\næœ¬å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç‚¹ $\\mathbf{P}_{(x,y)}$ï¼Œè¿™ä¸ªç‚¹ä»£è¡¨äº†å¹³é¢ä¸­çš„ä»»ä¸€ä¸ªç‚¹ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªçŸ©é˜µèƒ½å°†ç‚¹è½¬æ¢åˆ° $\\mathbf{P^{'}}_{(x^{'},y^{'})}$ï¼Œä¹Ÿå°±æ˜¯ï¼š\n$$\n\\begin{pmatrix} x^{\\prime}\\\\y^{\\prime} \\end{pmatrix} = \\mathbf{A} . \\begin{pmatrix} x\\\\y \\end{pmatrix} = \\begin{pmatrix} a & b\\\\c & d \\end{pmatrix} . \\begin{pmatrix} x\\\\y \\end{pmatrix}\n$$\n\n### Scaling\n\nç¼©æ”¾çœ‹èµ·æ¥å¾ˆå¥½è¡¨ç¤ºï¼Œæ¯”æ–¹è¯´æ”¾å¤§2å€ï¼Œåªéœ€å°†åæ ‡ä¹˜ä»¥æ¯”ä¾‹å› å­å°±å¯ä»¥äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¯èƒ½å¸Œæœ›å¯¹è½¬æ¢ä½¿ç”¨ä¸åŒçš„æ°´å¹³å’Œå‚ç›´ç¼©æ”¾æ¯”ä¾‹ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ\n\nä¸ºäº†èƒ½å¤Ÿåœ¨ä¸åŒçš„æ–¹å‘ä½¿ç”¨ä¸åŒçš„ç¼©æ”¾æ¯”ä¾‹ï¼Œæˆ‘ä»¬å¿…é¡»åŒºåˆ†æ°´å¹³å’Œå‚ç›´æ–¹å‘çš„ç¼©æ”¾æ¯”ä¾‹ï¼Œå®ƒä»¬åˆ†åˆ«ä½¿ç”¨$S_{x}$ å’Œ$S_{y}$è¡¨ç¤ºï¼›\n\næˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹ä¸¤ä¸ªç­‰å¼ï¼š\n$$\n\\begin{aligned} x' &= S_{x} . x \\\\ y' &= S_{y} . y \\end{aligned}\n$$\nç»“åˆä¹‹å‰çš„çŸ©é˜µï¼š\n$$\n\\begin{pmatrix} x^{\\prime}\\\\y^{\\prime} \\end{pmatrix} = \\begin{pmatrix} a & b\\\\c & d \\end{pmatrix} . \\begin{pmatrix} x\\\\y \\end{pmatrix}\n$$\næˆ‘ä»¬å¯ä»¥å¾—åˆ° $a,b,c,d$ å¦‚ä¸‹ï¼š\n$$\n\\left.\n\\begin{aligned} S_{x} . x &= a . x + b . y\\\\\\\\ \\Rightarrow a &= S_{x} \\text{ ä¸” }\\\\ b &= 0 \\end{aligned}\n\\middle |\n\\begin{aligned} S_{y} . y &= c . x + d . y\\\\\\\\ \\Rightarrow c &= S_{y} \\text{ ä¸” }\\\\ d &= 0 \\end{aligned}\n\\right.\n$$\n\nç¼©æ”¾æ¯”ä¾‹$(S_x,S_y)$ å¯¹åº”çš„ $2\\times2$ ç¼©æ”¾çŸ©é˜µå°±æ˜¯ï¼š\n$$\n \\begin{pmatrix} a & b\\\\c & d \\end{pmatrix} =\n  \\begin{pmatrix} S_x & 0\\\\0 & S_y \\end{pmatrix}\n$$\nå½“ç¼©æ”¾æ¯”ä¾‹ä¸º $1$ æ—¶ï¼Œåº”ç”¨è¿™ä¸ªç¼©æ”¾çŸ©é˜µæ˜¯ï¼š\n$$\n\\begin{pmatrix} S_{x} & 0\\\\0 & S_{y} \\end{pmatrix} = \\begin{pmatrix} 1 & 0\\\\0 & 1 \\end{pmatrix}\n$$\nä¹Ÿå°±æ˜¯å•ä½çŸ©é˜µï¼Œåº”ç”¨ä¹‹å $x$ï¼Œ$y$ å‡ä¸ä¼šæ”¹å˜ï¼Œè¿™ä¸å•ä½çŸ©é˜µçš„æ„ä¹‰ç¬¦åˆã€‚\n\n### Reflexion-ä»¿å°„\n\nä»¿å°„ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä¸¤ç§å‰æ–¹çš„ä»¿å°„ç±»å‹ï¼šå›´ç»•è½´æˆ–å›´ç»•ç‚¹çš„ä»¿å°„ã€‚ \n\nä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†é‡ç‚¹æ”¾åœ¨$x$å’Œ$y$è½´å‘¨å›´çš„ä»¿å°„ï¼ˆåŸç‚¹å‘¨å›´çš„åå°„ç­‰åŒäºåœ¨$x$å’Œ$y$è½´ä¸Šè¿ç»­æ–½åŠ ä»¿å°„ï¼‰ã€‚ \n\nå›´ç»• $x$ è½´çš„åå°„ï¼š\n$$\n\\left.\\begin{aligned} x^{\\prime} &= x\\\\ x &= a . x + b . y\\\\\\\\ \\Rightarrow a &= 1 \\text{ and }\\\\ b &= 0 \\end{aligned}\n\\middle|\n\\begin{aligned} y^{\\prime} &= -y\\\\ -y &= c . x + d . y\\\\\\\\ \\Rightarrow c &= 0 \\text{ and }\\\\ d &= -1 \\end{aligned}\n\\right. \n$$\næœ‰è¶£çš„æ˜¯ï¼Œå›´ç»• $x$ è½´çš„ä»¿å°„å’Œä½¿ç”¨ -1 ä½œä¸ºç¼©æ”¾å› å­å¯¹$x$ è¿›è¡Œç¼©æ”¾çš„è½¬æ¢çŸ©é˜µä¸€è‡´ï¼›\n$$\n\\begin{pmatrix} a & b\\\\c & d \\end{pmatrix} = \\begin{pmatrix} 1 & 0\\\\ 0 & -1 \\end{pmatrix}\n$$\nå›´ç»• $y$ è½´æ–¹å‘çš„ä»¿å°„ï¼š\n$$\n\\left.\n\\begin{aligned} x^{\\prime} &= -x\\\\ -x &= a . x + b . y\\\\\\\\ \\Rightarrow a &= -1 \\text{ and }\\\\ b &= 0 \\end{aligned}\n\\middle|\n\\begin{aligned} y^{\\prime} &= y\\\\ y &= c . x + d . y\\\\\\\\ \\Rightarrow c &= 0 \\text{ and }\\\\ d &= 1 \\end{aligned}\n\\right.\n$$\nè½¬æ¢çŸ©é˜µï¼š\n$$\n\\begin{pmatrix} a & b\\\\c & d \\end{pmatrix} = \\begin{pmatrix} -1 & 0\\\\ 0 & 1 \\end{pmatrix}\n$$\n\n### Shearing-å‰ªåˆ‡\n\nè¿™ä¸ªShearingå˜æ¢æœ‰äº›å¤æ‚ã€‚\n\nåœ¨æˆ‘å‘ç°çš„å¤§å¤šæ•°ç¤ºä¾‹ä¸­ï¼Œå‰ªåˆ‡éƒ½æ˜¯é€šè¿‡æ·»åŠ ä¸€ä¸ªå¯ä»¥ä»£è¡¨shearingè§’åº¦çš„å¸¸é‡æ¥æ›´æ”¹åæ ‡æ¥è§£é‡Šçš„ã€‚\n\næ¯”æ–¹è¯´ï¼Œä¸€ä¸ªæ²¿ç€$x$ è½´æ–¹å‘çš„ shear é€šå¸¸ä½¿ç”¨ä¸€ä¸ªé¡¶ç‚¹ä½äº$(0,1)$ çš„çŸ©å½¢å˜æ¢æˆä¸€ä¸ªé¡¶ç‚¹ä½äº $(1,1)$ çš„å¹³è¡Œå››è¾¹å½¢æ¥è§£é‡Šï¼›\n\n![2D-constant-shearing](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210308225012.png)\n\n<center>Shearing along x axis by a constant k<sub>x</sub>=1</center>\n\nä¸è¿‡åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æƒ³ç”¨å‰ªåˆ‡è§’ï¼ˆè½´è¢«å‰ªåˆ‡çš„è§’åº¦ï¼‰æ¥è§£é‡Šå®ƒã€‚æˆ‘ä»¬ç§°ä¹‹ä¸º $\\alpha$ ï¼ˆalphaï¼‰ã€‚\n\n![2D-angle-shearing](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210308230002.gif)\n\n![D-angle-shearing](Matrices for developers_files/2D-angle-shearing.gif)\n\n<center>Shearing along x axis by an angle Î±</center>\n\nå¦‚æœçœ‹ä¸Šé¢çš„å¹³é¢ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ–°çš„æ¨ªåæ ‡ $x^{\\prime}$ ç­‰äº$x$åŠ /å‡å»$y$è½´ï¼Œ$y$è½´çš„å‰ªåˆ‡å½¢å¼ä»¥åŠçŸ©å½¢å·¦ä¸Šè§’é¡¶ç‚¹ä¸å¹³è¡Œå››è¾¹å½¢å·¦ä¸Šè§’é¡¶ç‚¹ä¹‹é—´çš„çº¿æ®µæ‰€å½¢æˆçš„ä¸‰è§’å½¢çš„ç›¸å¯¹è¾¹ã€‚ æ¢å¥è¯è¯´ï¼Œ$x ^{\\prime}$ ç­‰äº $x$â€‹ åŠ /å‡ç»¿è‰²ä¸‰è§’å½¢çš„å¦ä¸€ä¾§\n\n| ![2D-angle-shearing-triangles-1](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210308231659.png) | ![2D-angle-shearing-triangles-2](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210308231705.png) |\n| ------------------------------------------------------------ | ------------------------------------------------------------ |\n| ![2D-angle-shearing-triangles-3](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210308231710.png) | ![2D-angle-shearing-triangles-4](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210308231717.png) |\n\n> åœ¨ç›´è§’ä¸‰è§’å½¢ä¸­ï¼š \n>\n> * æ–œè¾¹(==*hypotenuse*==)æ˜¯æœ€é•¿çš„ä¸€é¢ \n> * å¯¹è¾¹ï¼ˆ==*opposite*==ï¼‰æ˜¯ä¸ç»™å®šè§’åº¦ç›¸åçš„é‚£ä¸€ä¾§ \n> * ç›¸é‚»è¾¹ï¼ˆ==*adjacent*==ï¼‰æ˜¯ç»™å®šè§’åº¦çš„ä¸‹ä¸€ä¸ª \n\n* $\\mathbf{PP^{'}}$ æ˜¯å¯¹è¾¹ï¼Œä¸ºäº†è®¡ç®—$x^{'}$ åˆ° $x$ çš„è·ç¦»ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—å‡ºå¯¹è¾¹çš„é•¿åº¦ ($k$)ï¼›\n* é‚»è¾¹å°±æ˜¯ $P^{'}$ çš„åæ ‡ï¼š $y$ ;\n* æˆ‘ä»¬ä¸çŸ¥é“æ–œè¾¹çš„é•¿åº¦\n\nåœ¨ä¸‰è§’å‡½æ•°ï¼ˆtrigonometryï¼‰ä¸­ï¼š\n$$\n\\begin{aligned} \\cos \\left( \\alpha \\right) &= \\frac{é‚»è¾¹}{æ–œè¾¹}\\\\\\\\ \\sin \\left( \\alpha \\right) &= \\frac{å¯¹è¾¹}{æ–œè¾¹}\\\\\\\\ \\tan \\left( \\alpha \\right) &= \\frac{å¯¹è¾¹}{é‚»è¾¹} \\end{aligned}\n$$\nç°åœ¨ï¼Œæˆ‘ä»¬çŸ¥é“äº† $\\alpha$ ,ä½†æˆ‘ä»¬ä¸çŸ¥é“æ–œè¾¹çš„é•¿åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ cosine å‡½æ•°ã€‚\n\nå¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬çŸ¥é“é‚»è¾¹çš„é•¿åº¦ï¼ˆä¹Ÿå°±æ˜¯$y$),æˆ‘ä¸€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ tangent å‡½æ•°æ¥æ±‚å‡ºå¯¹è¾¹çš„é•¿åº¦ï¼š\n$$\n\\begin{aligned}\\tan \\left( \\alpha \\right) &= \\frac{å¯¹è¾¹}{é‚»è¾¹}\\\\\\\\å¯¹è¾¹ &= é‚»è¾¹ \\times \\tan \\left( \\alpha \\right)\\end{aligned}\n$$\n æˆ‘ä»¬å¯ä»¥å¼€å§‹æ±‚è§£æˆ‘ä»¬çš„çº¿æ€§æ–¹ç¨‹ç»„æ¥å¾—å‡ºæˆ‘ä»¬éœ€è¦çš„çŸ©é˜µï¼š\n$$\nx^{\\prime} = x + k = x + y . \\tan \\left( \\alpha \\right)\n\\\\\ny^{\\prime} = y\n$$\nå½“ $\\alpha > 0$ æ—¶ï¼Œ$tan(\\alpha) < 0$ï¼Œå½“ $Î±<0, \\tan \\left( \\alpha \\right) > 0$ ,ä¸¤ç§æƒ…å†µä¸‹ï¼Œé€šè¿‡ $xâ€²= x+k=x+y.tan(Î±)$ æ±‚è§£å‡ºæ¥çš„å¯èƒ½ä¸ºæ­£ä¹Ÿå¯èƒ½ä¸ºè´Ÿï¼›$\\alpha > 0$ ä¸ºé€†æ—¶é’ˆçš„æ—‹è½¬/æ–œåˆ‡è§’ï¼Œå½“ $Î±<0$ æ—¶ï¼Œä¸ºé¡ºæ—¶é’ˆæ–¹å‘çš„æ—‹è½¬/æ–œåˆ‡è§’ã€‚\n$$\n\\left.\n\\begin{aligned} x^{\\prime} &= x + y . \\tan \\left( \\alpha \\right) \\\\ x + y . \\tan \\left( \\alpha \\right) &= a . x + b . y\\\\\\\\ \\Rightarrow a &= 1 \\text{ and }\\\\ b &= \\tan \\left( \\alpha \\right) \\end{aligned}\n\\middle|\n\\begin{aligned} y^{\\prime} &= y\\\\ y &= c . x + d . y\\\\\\\\ \\Rightarrow c &= 0 \\text{ and }\\\\ d &= 1 \\end{aligned}\n\\right.\n$$\n\næ²¿$x$æ–¹å‘å‰ªåˆ‡çš„å˜æ¢çŸ©é˜µä¸º:\n$$\n\\begin{aligned} \n\\begin{pmatrix} a & b\\\\c & d \\end{pmatrix} = \\begin{pmatrix} 1 & \\tan \\alpha \\\\ 0 & 1 \\end{pmatrix} = \\begin{pmatrix} 1 & k_{x}\\\\ 0 & 1 \\end{pmatrix}\\\\\\\\ \n{\\text{å…¶ä¸­ } k_{x} \\text{ æ˜¯ shearing å¸¸é‡}}\n\\end{aligned}\n$$\n ç±»ä¼¼çš„ï¼Œæ²¿ $y$ æ–¹å‘å‰ªåˆ‡çš„å˜æ¢çŸ©é˜µä¸ºï¼š\n$$\n\\begin{aligned} \\begin{pmatrix} a & b\\\\c & d \\end{pmatrix} = \\begin{pmatrix} 1 & 0\\\\ \\tan \\beta & 1 \\end{pmatrix} = \\begin{pmatrix} 1 & 0\\\\ k_{y} & 1 \\end{pmatrix}\\\\\\\\ \\text{å…¶ä¸­ } k_{y} \\text{ æ˜¯ shearing å¸¸é‡} \\end{aligned}\n$$\n\n### Rotation\n\næ—‹è½¬å°±æ›´åŠ å¤æ‚äº†ã€‚\n\næˆ‘ä»¬ä»”ç»†çœ‹ä¸‹ä¸‹é¢ å›´ç»•åŸç‚¹æ—‹è½¬ $\\theta$ (theta)è§’åº¦ çš„ä¾‹å­:\n\n![D-angle-shearing](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210309094706.gif)\n\n![D-angle-shearing](Matrices for developers_files/2D-rotation.gif)\n\n\n\næ³¨æ„ï¼Œä¸¤ä¸ªç‚¹ $\\mathbf{P}$ å’Œ  $\\mathbf{P}^{'}$ åœ¨å®ƒä»¬è‡ªå·±çš„åæ ‡å¹³é¢ä¸­éƒ½æœ‰ç›¸åŒçš„åæ ‡$(x,y)$ï¼Œä½†æ˜¯ $\\mathbf{P}^{'}$ åœ¨ç¬¬ä¸€ä¸ªæ²¡æœ‰è¢«æ—‹è½¬çš„åæ ‡ç³»ä¸­æœ‰æ–°çš„åæ ‡ï¼š $\\left({x^{'},y^{'}}\\right)$ ã€‚\n\né‚£ä¹ˆï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å®šä¹‰åŸå§‹åæ ‡ç‚¹$(x,y)$ åˆ°æ–°çš„åæ ‡ç‚¹  $\\left({x^{'},y^{'}}\\right)$ ä¹‹é—´çš„å…³ç³»äº†å—ï¼Ÿ\n\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‰è§’å‡½æ•°æ¥å¸®åŠ©æˆ‘ä»¬è®¡ç®—ï¼Œåœ¨å¯»æ‰¾å¯¹åº”çš„è§£æ³•æ—¶ï¼Œæˆ‘å‘ç°äº†[å°¼å…‹Â·è´é‡Œï¼ˆNick Berryï¼‰](http://datagenetics.com/blog/august32013/)çš„åŸºäºå‡ ä½•çš„è§£é‡Šå’Œ[æ­¤è§†é¢‘](https://www.youtube.com/watch?v=h11ljFJeaLo)ã€‚ \n\nè€å®è¯´ï¼Œæˆ‘å¯¹è¿™ç§è§£å†³æ–¹æ¡ˆä¸æ˜¯100ï¼…æ»¡æ„ï¼Œå› ä¸ºæˆ‘ä¸å®Œå…¨ç†è§£äº†å®ƒã€‚ åœ¨é‡æ–°é˜…è¯»æˆ‘å†™çš„å†…å®¹ä¹‹åï¼ŒHadrienï¼ˆå®¡é˜…è€…ä¹‹ä¸€ï¼‰å’Œæˆ‘å‘ç°æˆ‘çš„è§£é‡Šæœ‰äº›ä¸æ˜¯é‚£ä¹ˆå®Œç¾ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨æœ‰å…´è¶£ï¼Œæˆ‘ä¼šæŠŠå®ƒç•™åœ¨è¿™é‡Œï¼Œä½†æˆ‘å»ºè®®æ‚¨ä¸è¦æ‰“æ‰°ï¼Œé™¤éæ‚¨éå¸¸å¥½å¥‡å¹¶ä¸”ä¸è¦ä»‹æ„ä¸€äº›æ··ä¹±ã€‚ \n\n> \n\nç°åœ¨ï¼Œä¸ºäº†è¿›è¡Œç®€å•çš„è§£é‡Šæ¸…æ¥šæ—‹è½¬çš„æ¦‚å¿µï¼Œæˆ‘å°†é‡‡ç”¨ *æ­¤ä½ç½®å‘é‡è½åœ¨æ˜ å°„åˆ°å¦å¤–ä¸€ä¸ªä½ç½®å‘é‡ä¸Š* çš„è·¯çº¿ã€‚ \n\nå‡è®¾ä½ åƒä¸‹å›¾ä¸€æ ·åœ¨å•ä½çŸ¢é‡ä¸Šè¿›è¡Œç¼©æ”¾ï¼š \n\n![2D-rotation-unit](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210309101356.png)\n\nåŸºäºä¸‰è§’å‡½æ•°çš„è§„åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å¾—åˆ°ï¼š\n$$\n\\left.\n\\begin{pmatrix} 0\\\\ 1 \\end{pmatrix} \\text{ lands on } \\begin{pmatrix} \\cos \\theta \\\\ \\sin \\theta \\end{pmatrix}\n\\middle|\n\\begin{pmatrix} 1\\\\ 0 \\end{pmatrix} \\text{ lands on } \\begin{pmatrix} - \\sin \\theta \\\\ \\cos \\theta \\end{pmatrix}\n\\right.\n$$\nä¹Ÿå°±æ˜¯ï¼š\n$$\n\\begin{pmatrix} x\\\\ y \\end{pmatrix} = \\begin{pmatrix} 1\\\\ 0 \\end{pmatrix} \\text{ lands on } \\begin{pmatrix} a.x+b.y\\\\ c.x+d.y \\end{pmatrix} = \\begin{pmatrix} \\cos \\theta \\\\ \\sin \\theta \\end{pmatrix}\n$$\n\n$$\n\\begin{pmatrix} x\\\\ y \\end{pmatrix} = \\begin{pmatrix} 0\\\\ 1 \\end{pmatrix} \\text{ lands on } \\begin{pmatrix} a.x+b.y\\\\ c.x+d.y \\end{pmatrix} = \\begin{pmatrix} - \\sin \\theta \\\\ \\cos \\theta \\end{pmatrix}\n$$\n\næˆ‘ä»¬å¯ä»¥æ¨æ–­å‡ºï¼š\n$$\n\\left.\n\\begin{pmatrix} 1.a+0.b\\\\ 1.c+0.d \\end{pmatrix} = \\begin{pmatrix} \\cos \\theta \\\\ \\sin \\theta \\end{pmatrix}\n\\middle|\n\\begin{pmatrix} 0.a+1.b\\\\ 0.c+1.d \\end{pmatrix} = \\begin{pmatrix} - \\sin \\theta \\\\ \\cos \\theta \\end{pmatrix}\n\\right.\n$$\nå¾ˆæ˜æ˜¾å¯ä»¥å¾—å‡ºï¼š $a = \\cos\\left(\\theta \\right), b = - \\sin \\left( \\theta \\right), c = \\sin \\left( \\theta \\right) ï¼Œè€Œ\\  d = \\cos \\left( \\theta \\right)$ ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æˆ‘ä»¬çš„æ—‹è½¬çŸ©é˜µï¼š\n$$\n\\begin{pmatrix} a & b\\\\c & d \\end{pmatrix} = \\begin{pmatrix} \\cos \\theta & -\\sin \\theta\\\\ \\sin \\theta & \\cos \\theta \\end{pmatrix}\n$$\næ­å–œä½ ï¼ç°åœ¨ä½ å·²ç»çŸ¥é“äº†å¦‚ä½•å®šä¹‰ç¼©æ”¾ï¼Œä»¿å°„ï¼Œå‰ªåˆ‡å’Œæ—‹è½¬çš„å˜æ¢çŸ©é˜µã€‚ é‚£ä¹ˆï¼Œè¿˜å·®ä»€ä¹ˆå‘¢ï¼Ÿ \n\n## 3x3 å˜æ¢çŸ©é˜µ\n\nå¦‚æœä½ çœ‹åˆ°äº†è¿™é‡Œï¼Œç»è¿‡ä¸Šé¢çš„è§£é‡Šï¼Œä½ å¯èƒ½çŸ¥é“äº†ä¸Šè¿°çš„å•ä¸ªå˜æ¢ä¸ºä»€ä¹ˆä¼šèµ·ä½œç”¨ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å…¶å®æ˜¯ç†è§£è¿™äº›ä»¿å°„å˜æ¢ï¼Œç„¶ååœ¨ä»£ç ä¸­åº”ç”¨å®ƒä»¬ã€‚\n\nä»…ä»…çŸ¥é“å•ä¸ªå˜æ¢çš„ç”¨æ³•ä¹Ÿæ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œå› ä¸ºç°åœ¨æˆ‘ä»¬çŸ¥é“äº†å˜æ¢çŸ©é˜µé•¿ä»€ä¹ˆæ ·ï¼Œå¹¶ä¸”çŸ¥é“å¦‚ä½•åœ¨ç»™å®šçš„å‡ ä¸ªä½ç½®çŸ¢é‡çš„æƒ…å†µä¸‹è®¡ç®—ä¸€ä¸ªå˜æ¢çŸ©é˜µï¼Œäº†è§£è¿™äº›å°±å·²ç»éå¸¸äº†ä¸èµ·äº†ã€‚\n\nä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼šæˆ‘ä»¬èƒ½é€šè¿‡ $2\\times2$ çš„çŸ©é˜µæ‰€åšçš„æ“ä½œå¤ªå°‘äº†ï¼Œä½ åªèƒ½åšä¸€äº›æˆ‘ä»¬ä¹‹é—´è§åˆ°è¿‡çš„å˜æ¢ï¼š\n\n* Scaling - ç¼©æ”¾\n* Reflexion - ä»¿å°„\n* Shearing - å‰ªåˆ‡\n* Rotation - æ—‹è½¬\n\né‚£ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦ä»€ä¹ˆï¼Ÿ ç­”æ¡ˆæ˜¯ï¼š **å¹³ç§»-translations**\n\nå¹³ç§»éå¸¸æœ‰ç”¨ï¼Œæ¯”æ–¹è¯´å½“ç”¨æˆ·è§¦æ‘¸å›¾åƒå¹¶ç§»åŠ¨æ‰‹æŒ‡æ—¶ï¼Œå›¾ç‰‡éœ€è¦èƒ½è·Ÿéšç”¨æˆ·çš„æ‰‹åŠ¿ä¸€èµ·ç§»åŠ¨ï¼›å¹³ç§»å¯ä»¥è¢«å®šä¹‰ä¸ºä¸¤ä¸ªçŸ©é˜µçš„åŠ æ³•ï¼š\n$$\n\\begin{pmatrix}\nx^{'} \\\\ y^{'} \n\\end{pmatrix} = \\begin{pmatrix} x \\\\ y \\end{pmatrix} + \\begin{pmatrix} t_x \\\\ t_y \\end{pmatrix}\n$$\nä¸è¿‡ï¼Œæˆ‘ä»¬å¸Œæœ›ç”¨æˆ·èƒ½å¤Ÿè”åˆæ‰§è¡Œå¤šç§å˜æ¢ï¼ˆå¦‚ä»¥ä¸€ä¸ªä¸æ˜¯åŸç‚¹çš„ç‚¹ä¸ºä¸­å¿ƒè¿›è¡Œç¼©æ”¾ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ‰¾åˆ°å°†å¹³ç§»è¡¨ç¤ºä¸ºçŸ©é˜µä¹˜æ³•çš„æ–¹å¼ã€‚\n\n> è¿™é‡Œå¯èƒ½æ¶‰åŠåˆ° [Homogeneous coordinates](https://en.wikipedia.org/wiki/Homogeneous_coordinates çš„ä¸–ç•Œï¼Œä¸è¿‡ä½ å¯ä»¥ä¸ç”¨äº†è§£è¿™äº›ã€‚\n\nè¿™é‡Œå…³è”æ¦‚å¿µå°±æ˜¯ï¼š\n\n* æˆ‘ä»¬ä½¿ç”¨çš„å¹³é¢ç¬›å¡å°”åæ ‡å¹³é¢å®é™…ä¸Šåªæ˜¯ä¸‰ç»´åæ ‡ç©ºé—´ä¸­ä¼—å¤šå¹³é¢ä¸­çš„ä¸€ä¸ªï¼Œå…¶ $z$ åæ ‡ ä¸º 1 \n* å¯¹äºä¸‰ç»´ç©ºé—´çš„ä»»æ„ç‚¹ $(x,y,z)$ æ¥è¯´ï¼ŒæŠ•å½±ç©ºé—´ä¸­ç©¿è¿‡è¿™ä¸ªç‚¹å’ŒåŸç‚¹çš„çº¿ï¼ŒåŒæ—¶ä¹Ÿä¼šç©¿è¿‡ä½¿ç”¨ç›¸åŒçš„ç¼©æ”¾æ¯”ä¾‹å¯¹ $x,y,z$ è¿›è¡Œç¼©æ”¾åçš„ç‚¹ï¼›\n* è¿™æ¡çº¿ä¸Šçš„ä»»æ„ç‚¹çš„åæ ‡å¯ä»¥è¡¨ç¤ºä¸ºï¼š$\\left(\\frac{x}{z}, \\frac{y}{z}, z\\right)$  \n\n![img](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210309104502.png)\n\n>  æˆ‘åœ¨æœ¬æ–‡çš„æœ«å°¾é™„ä¸Šäº†æˆ‘æ”¶é›†çš„ç›¸å…³æ–‡ç« åŠåšå®¢çš„é“¾æ¥ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£ï¼Œå¯ä»¥ç»§ç»­æ·±å…¥é˜…è¯»ã€‚\n\næˆ‘ä»¬ç°åœ¨ä¸ä»…å¯ä»¥å°†ç¬›å¡å°”åæ ‡ç³»ï¼ˆ$z=1$ï¼‰ä¸­çš„ç‚¹è¡¨ç¤ºä¸ºä¸€ä¸ª $2\\times1$ çš„çŸ©é˜µï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ª $3\\times1$çš„çŸ©é˜µï¼š\n$$\n\\begin{pmatrix} x\\\\ y \\end{pmatrix} \\Leftrightarrow \\begin{pmatrix} x\\\\ y\\\\ 1 \\end{pmatrix}\n$$\nä¸è¿‡è¿™ä¹Ÿæ„å‘³ç€æˆ‘ä»¬éœ€è¦é‡æ–°å®šä¹‰æˆ‘ä»¬ä¹‹å‰å¾—åˆ°çš„å˜æ¢çŸ©é˜µï¼Œå› ä¸ºä¸€ä¸ª $3\\times1$ çš„ä½ç½®çŸ¢é‡ä¹˜ä»¥ä¸€ä¸ª $2\\times2$ çš„å˜æ¢çŸ©é˜µæ˜¯æœªå®šä¹‰çš„ã€‚\n\næˆ‘ä»¬å¿…é¡»æ‰¾åˆ°ä¸€ä¸ªå˜æ¢çŸ©é˜µ $\\mathbf{A} = \\begin{pmatrix} a & b & c \\\\ d & e &f \\\\ g&h &i \\end{pmatrix}$ \n\nåŒå‰é¢çš„ç« èŠ‚ä¸€æ ·ï¼Œæˆ‘ä»¬å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç‚¹ $\\mathbf{P}_{(x,y,z)}$ ï¼Œè¿™ä¸ªç‚¹ä»£è¡¨äº†ç¬›å¡å°”å¹³é¢ä¸­çš„ä»»æ„ç‚¹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªå˜æ¢çŸ©é˜µçŸ©é˜µèƒ½å¤Ÿå°†åæ ‡ç‚¹è½¬æ¢æˆ $\\mathbf{P}^{'}_{(x^{'},y^{'},z^{'})}$ ï¼Œå…¶ä¸­å˜æ¢åçš„ç‚¹çš„ $z^{'} = z$ :\n$$\n\\begin{pmatrix} x^{\\prime}\\\\y^{\\prime}\\\\z^{\\prime} \\end{pmatrix} = \\mathbf{A} . \\begin{pmatrix} x\\\\y\\\\z \\end{pmatrix} = \\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} . \\begin{pmatrix} x\\\\y\\\\z \\end{pmatrix}\n$$\n\n### ç¼©æ”¾\n\nç¼©æ”¾çš„çŸ©é˜µå½¢å¼å¦‚ä¸‹ï¼š\n$$\n\\begin{pmatrix} x^{\\prime}\\\\y^{\\prime}\\\\z^{\\prime} \\end{pmatrix} = \\begin{pmatrix} s_{x}.x\\\\s_{y}.y\\\\z \\end{pmatrix} = \\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} . \\begin{pmatrix} x\\\\y\\\\z \\end{pmatrix}\n$$\nä¸ºäº†æ‰¾åˆ°çŸ©é˜µ $A$ ï¼Œæˆ‘ä»¬è¿›è¡Œçº¿æ€§æ–¹ç¨‹æ±‚è§£ï¼š\n$$\n\\left.\n\\begin{aligned} x^{\\prime} &= s_{x} . x\\\\ s_{x} . x &= a . x + b . y + c . z\\\\\\\\ \\Rightarrow a &= s_{x} \\text{ ä¸” }\\\\ b &= 0 \\text{ ä¸” }\\\\ c &= 0 \\end{aligned}\n\\middle|\n\\begin{aligned} y^{\\prime} &= s_{y} . y\\\\ s_{y} . y &= d . x + e . y + f + z\\\\\\\\ \\Rightarrow e &= s_{y} \\text{ ä¸” }\\\\ d &= 0 \\text{ ä¸” }\\\\ f &= 0 \\end{aligned}\n\\middle|\n\\begin{aligned} z^{\\prime} &= z\\\\ \\Rightarrow z &= g . x + h . y + i + z\\\\ \\Rightarrow g &= 0 \\text{ ä¸” }\\\\ h &= 0 \\text{ ä¸” }\\\\ i &= 1 \\end{aligned}\n\\right.\n$$\nç¼©æ”¾æ¯”ä¾‹ $\\left( S_x, S_y \\right)$ çš„ $3 \\times 3$ çš„çŸ©é˜µä¸ºï¼š\n$$\n\\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} = \\begin{pmatrix} s_{x} & 0 &0\\\\0 & s_{y} & 0\\\\0 & 0 & 1\\end{pmatrix}\n$$\n\n### Reflexion\n\nå¯¹å›´ç»• $x$ è½´çš„ä»¿å°„çš„çŸ©é˜µ $\\mathbf{A}$ å¦‚ä¸‹ï¼š\n$$\n\\begin{pmatrix} x^{\\prime}\\\\y^{\\prime}\\\\z^{\\prime} \\end{pmatrix} = \\begin{pmatrix} x\\\\-y\\\\z \\end{pmatrix} = \\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} . \\begin{pmatrix} x\\\\y\\\\z \\end{pmatrix}\n$$\nåŒç†ï¼Œæ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ï¼Œå¾—åˆ°å˜æ¢çŸ©é˜µå„ä¸ªæ¡ç›®çš„å€¼ï¼š\n$$\n\\left.\n\\begin{aligned} x^{\\prime} &= x\\\\ x &= a . x + b . y + c . z\\\\\\\\ \\Rightarrow a &= 1 \\text{ ä¸” }\\\\ b &= 0 \\text{ ä¸” }\\\\ c &= 0 \\end{aligned}\n\\middle|\n\\begin{aligned} y^{\\prime} &= -y\\\\ -y &= d . x + e . y + f . z\\\\\\\\ \\Rightarrow d &= 0 \\text{ ä¸” }\\\\ e &= -1 \\text{ ä¸” }\\\\ f &= 0 \\end{aligned}\n\\middle|\n\\begin{aligned} z^{\\prime} &= z\\\\ z &= g . x + h . y + i . z\\\\\\\\ \\Rightarrow g &= 0 \\text{ ä¸” }\\\\ h &= 0 \\text{ ä¸” }\\\\ i &= 1 \\end{aligned}\n\\right.\n$$\næ ¹æ®æ±‚è§£ç»“æœï¼Œå¾—åˆ°å›´ç»• $x$ è½´çš„å˜æ¢çŸ©é˜µä¸ºï¼š\n$$\n\\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} = \\begin{pmatrix} 1 & 0 & 0\\\\ 0 & -1 & 0\\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\nå¯¹å›´ç»• $y$ è½´çš„ä»¿å°„çš„çŸ©é˜µ $\\mathbf{A}$ çœ‹å¦‚ä¸‹ï¼š\n$$\n\\begin{pmatrix} x^{\\prime}\\\\y^{\\prime}\\\\z^{\\prime} \\end{pmatrix} = \\begin{pmatrix} x\\\\-y\\\\z \\end{pmatrix} = \\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} . \\begin{pmatrix} x\\\\y\\\\z \\end{pmatrix}\n$$\næ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ï¼š\n$$\n\\left.\n\\begin{aligned} x^{\\prime} &= -x\\\\ -x &= a . x + b . y + c . z\\\\\\\\ \\Rightarrow a &= -1 \\text{ and }\\\\ b &= 0 \\text{ and }\\\\ c &= 0 \\end{aligned}\n\\middle|\n\\begin{aligned} y^{\\prime} &= y\\\\ y &= d . x + e . y + f . z\\\\\\\\ \\Rightarrow d &= 0 \\text{ and }\\\\ e &= 1 \\text{ and }\\\\ f &= 0 \\end{aligned}\n\\middle|\n\\begin{aligned} z^{\\prime} &= z\\\\ z &= g . x + h . y + i . z\\\\\\\\ \\Rightarrow g &= 0 \\text{ and }\\\\ h &= 0 \\text{ and }\\\\ i &= 1 \\end{aligned}\n\\right.\n$$\n\né‚£ä¹ˆï¼Œå›´ç»• $y$ è½´çš„å˜æ¢çŸ©é˜µä¸ºï¼š\n$$\n\\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} = \\begin{pmatrix} -1 & 0 & 0\\\\ 0 & 1 & 0\\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n\n### Shearing\n\næ²¿ç€ $x$ æ–¹å‘å‰ªåˆ‡çš„è½¬æ¢çŸ©é˜µï¼š\n$$\n\\begin{aligned} \\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} &= \\begin{pmatrix} 1 & \\tan \\alpha & 0\\\\ 0 & 1 & 0\\\\ 0 & 0 & 1 \\end{pmatrix}\\\\\\\\ &= \\begin{pmatrix} 1 & k_{x} & 0\\\\ 0 & 1 & 0\\\\ 0 & 0 & 1 \\end{pmatrix}\\\\\\\\ & \\text{å…¶ä¸­ } k \\text{ æ˜¯ shearing å¸¸é‡} \\end{aligned}\n$$\nåŒæ ·çš„ï¼Œæ²¿ç€ y æ–¹å‘å‰ªåˆ‡çš„è½¬æ¢çŸ©é˜µï¼š\n$$\n\\begin{aligned} \\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} &= \\begin{pmatrix} 1 & 0 & 0\\\\ \\tan \\beta & 1 & 0\\\\ 0 & 0 & 1 \\end{pmatrix}\\\\\\\\ &= \\begin{pmatrix} 1 & 0 & 0\\\\ k_{y} & 1 & 0\\\\ 0 & 0 & 1 \\end{pmatrix}\\\\\\\\ & \\text{å…¶ä¸­ } k \\text{ æ˜¯ shearing å¸¸é‡} \\end{aligned}\n$$\n\n### æ—‹è½¬\n\nä½¿ç”¨ç›¸åŒçš„è®¡ç®—æ”¾å‡ºï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºæ–°çš„æ—‹è½¬çŸ©é˜µæ˜¯åŸºäºæˆ‘ä»¬ä¹‹å‰çš„ $2\\times2$ çš„æ—‹è½¬çŸ©é˜µï¼Œæ·»åŠ äº†ä¸€åˆ—ï¼Œè¯¥åˆ—çš„æ¡ç›®æ˜¯ï¼š$0,0$ å’Œ $1$ã€‚\n$$\n\\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} = \\begin{pmatrix} \\cos \\theta & -\\sin \\theta & 0\\\\ \\sin \\theta & \\cos \\theta & 0\\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\n\n### å¹³ç§»\n\nå¹³ç§»æ˜¯æœ€æœ‰æ„æ€çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ª $3\\times3$ çš„å¹³ç§»çŸ©é˜µï¼Œæˆ‘ä»¬éœ€è¦çš„çŸ©é˜µ $\\mathbf{A}$ éœ€è¦æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š\n$$\n\\begin{pmatrix} x^{\\prime}\\\\y^{\\prime}\\\\z^{\\prime} \\end{pmatrix} = \\begin{pmatrix} x+t_{x}\\\\y+t_{y}\\\\z \\end{pmatrix} = \\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} . \\begin{pmatrix} x\\\\y\\\\z \\end{pmatrix}\n$$\næ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ï¼š\n$$\n\\left.\n\\begin{aligned} x^{\\prime} &= x + t_{x} \\\\ x + t_{x} &= a . x + b . y + c . z\\\\\\\\ \\Rightarrow a &= 1 \\text{ ä¸” }\\\\ b &= 0 \\text{ ä¸” }\\\\ c &= t_{x} \\end{aligned}\n\\middle|\n\\begin{aligned} y^{\\prime} &= y + t_{y}\\\\ y + t_{y} &= d . x + e . y + f . z\\\\\\\\ \\Rightarrow d &= 0 \\text{ ä¸” }\\\\ e &= 1 \\text{ ä¸” }\\\\ f &= t_{y} \\end{aligned}\n\\middle|\n\\begin{aligned} z^{\\prime} &= z\\\\ z &= g . x + h . y + i . z\\\\\\\\ \\Rightarrow g &= 0 \\text{ ä¸” }\\\\ h &= 0 \\text{ ä¸” }\\\\ i &= 1 \\end{aligned}\n\\right.\n$$\nå¾—åˆ°çŸ©é˜µ $\\mathbf{A}$:\n$$\n\\begin{pmatrix} a & b & c\\\\d & e & f\\\\g & h & i\\end{pmatrix} = \\begin{pmatrix} 1 & 0 & t_{x}\\\\0 & 1 & t_{y}\\\\0 & 0 & 1\\end{pmatrix}\n$$\n\n## çŸ©é˜µæ€»ç»“(Matrices wrap-up) \n\nå®é™…ä¸Šï¼Œä½ ä¸å¿…æ¯æ¬¡éƒ½åšè¿™äº›çº¿æ€§ä»£æ•°çš„è®¡ç®—ï¼Œä½ åªéœ€è¦ä½¿ç”¨å®ƒä»¬å°±å¯ä»¥äº†ã€‚\n\n**æ€»ç»“ï¼š**\n\n* å¹³ç§»çŸ©é˜µï¼š$\\begin{pmatrix}1 & 0 & t_{x}\\\\0 & 1 & t_{y}\\\\0 & 0 & 1\\end{pmatrix}$\n* ç¼©æ”¾çŸ©é˜µï¼š$\\begin{pmatrix}s_{x} & 0 & 0\\\\0 & s_{y} & 0\\\\0 & 0 & 1\\end{pmatrix}$\n* å‰ªåˆ‡çŸ©é˜µï¼š$\\begin{pmatrix}1 & \\tan \\alpha & 0\\\\\\tan \\beta & 1 & 0\\\\0 & 0 & 1\\end{pmatrix} = \\begin{pmatrix}1 & k_{x} & 0\\\\k_{y} & 1 & 0\\\\0 & 0 & 1\\end{pmatrix}$\n* æ—‹è½¬çŸ©é˜µï¼š $\\begin{pmatrix}\\cos \\theta & -\\sin \\theta & 0\\\\\\sin \\theta & \\cos \\theta & 0\\\\0 & 0 & 1\\end{pmatrix}$\n\nç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ˜“çš„å®šä¹‰æˆ‘ä»¬è‡ªå·±éœ€è¦çš„çŸ©é˜µï¼Œè€Œä¸”ä½ ä¹ŸçŸ¥é“äº†å®ƒå¦‚ä½•å·¥ä½œã€‚\n\næœ€åä¸€ä¸ªé—®é¢˜æ˜¯ï¼šæˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„å˜æ¢éƒ½æ˜¯ä»¥åŸç‚¹ä¸ºä¸­å¿ƒã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ä¸ä»¥åŸç‚¹ä¸ºä¸­å¿ƒäº†ï¼Ÿæ¯”æ–¹è¯´ä»¥æŒ‡å®šç‚¹è¿›è¡Œç¼©æ”¾ï¼Œä»¥æŸä¸ªç‚¹å¯¹å›¾åƒè¿›è¡Œæ—‹è½¬ï¼Œè¿™è¦æ€ä¹ˆåšäº†ï¼Ÿ\n\nè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼š ç»„åˆï¼ˆ***composition***ï¼‰ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨å‡ ä¸ªå˜æ¢æ¥ç»„åˆæˆæˆ‘ä»¬éœ€è¦çš„å˜æ¢ï¼›\n\n\n\n### ç»„åˆå®ä¾‹ï¼š pinch-zoom\n\næƒ³è±¡ä½ æœ‰ä¸€ä¸ªå½¢çŠ¶ï¼ˆæ¯”æ–¹è¯´æ­£æ–¹å½¢ï¼‰ï¼Œä½ æƒ³è¦ä»¥æ­£æ–¹å½¢çš„ä¸­å¿ƒè¿›è¡Œç¼©æ”¾ï¼Œç”¨äºæ¨¡æ‹Ÿæåˆç¼©æ”¾è¡Œä¸ºã€‚\n\nå˜æ¢å¯ä»¥æŒ‰å¦‚ä¸‹åºåˆ—è¿›è¡Œç»„åˆï¼š\n\n* ç§»åŠ¨é”šç‚¹åˆ°åŸç‚¹: $\\left( -t_{x}, -t_{y} \\right)$\n* ä½¿ç”¨ $\\left( s_{x}, s_{y} \\right)$ è¿›è¡Œç¼©æ”¾\n* å°†é”šç‚¹ç§»åŠ¨å›æ¥ï¼š$\\left( t_{x}, t_{y} \\right)$\n\nå…¶ä¸­ $t$ æ˜¯æˆ‘ä»¬ç¼©æ”¾å˜æ¢çš„é”šç‚¹ï¼ˆè¿™é‡Œæ˜¯æ­£æ–¹å½¢çš„ä¸­å¿ƒç‚¹ï¼‰ã€‚\n\næˆ‘ä»¬çš„å˜æ¢åºåˆ—åŒ…æ‹¬ä¸‹é¢çš„ç¬¬ä¸€ä¸ªå¹³ç§»çŸ©é˜µ $\\mathbf{C}$ ï¼Œç¼©æ”¾çŸ©é˜µ $\\mathbf{B}$ ï¼Œè¿˜æœ‰åé¢çš„ä¸€ä¸ªå¹³ç§»çŸ©é˜µ $\\mathbf{A}$ \n$$\n\\mathbf{C} = \\begin{pmatrix} 1 & 0 & -t_{x} \\\\ 0 & 1 & -t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix} \\text{ , } \\mathbf{B} = \\begin{pmatrix} s_{x} & 0 & 0 \\\\ 0 & s_{y} & 0 \\\\ 0 & 0 & 1 \\end{pmatrix} \\text{ è¿˜æœ‰ } \\mathbf{A} = \\begin{pmatrix} 1 & 0 & t_{x} \\\\ 0 & 1 & t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\nå› ä¸ºçŸ©é˜µä¹˜æ³•è¿ç®—æ˜¯ä¸å¯äº¤æ¢çš„ï¼Œé¡ºåºå¾ˆé‡è¦ï¼Œå› æ­¤æˆ‘ä»¬å°†åè¿‡æ¥åº”ç”¨è¿™äº›çŸ©é˜µã€‚\n\næˆ‘ä»¬å¾—åˆ°å¦‚ä¸‹ç»„åˆç»“æœï¼š\n$$\n\\begin{aligned} \\mathbf{A} . \\mathbf{B} . \\mathbf{C} &= \\begin{pmatrix} 1 & 0 & t_{x} \\\\ 0 & 1 & t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} s_{x} & 0 & 0 \\\\ 0 & s_{y} & 0 \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} 1 & 0 & -t_{x} \\\\ 0 & 1 & -t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix}\\\\\\\\ &= \\begin{pmatrix} 1 & 0 & t_{x} \\\\ 0 & 1 & t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} s_{x} & 0 & -s_{x}.t_{x} \\\\ 0 & s_{y} & -s_{y}.t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix}\\\\\\\\ \\mathbf{A} . \\mathbf{B} . \\mathbf{C} &= \\begin{pmatrix} s_{x} & 0 & -s_{x}.t_{x} + t_{x} \\\\ 0 & s_{y} & -s_{y}.t_{y} + t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix} \\end{aligned}\n$$\nå‡è®¾æˆ‘ä»¬æœ‰å¦‚ä¸‹æ­£æ–¹å½¢ï¼Œå…¶å„ç‚¹åæ ‡å¦‚ä¸‹ï¼š\n$$\n\\begin{pmatrix}x_{1} & x_{2} & x_{3} & x_{4}\\\\y_{1} & y_{2} & y_{3} & y_{4}\\\\1 & 1 & 1 & 1\\end{pmatrix} = \\begin{pmatrix}2 & 4 & 4 & 2\\\\1 & 1 & 3 & 3\\\\1 & 1 & 1 & 1\\end{pmatrix}\n$$\n![pinch-zoom-init](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210309115937.png)\n\næˆ‘ä»¬æƒ³è¦ä»¥å®ƒçš„ä¸­å¿ƒç‚¹åº”ç”¨ä¸¤å€çš„ç¼©æ”¾ï¼š \n\næ–°çš„åæ ‡å°†ä¼šæ˜¯ä¸‹é¢è¿™æ ·ï¼š\n$$\n\\begin{aligned} \\begin{pmatrix} x_{1}^{\\prime} & x_{2}^{\\prime} & x_{3}^{\\prime} & x_{4}^{\\prime}\\\\ y_{1}^{\\prime} & y_{2}^{\\prime} & y_{3}^{\\prime} & y_{4}^{\\prime}\\\\ 1 & 1 & 1 & 1 \\end{pmatrix} &= \\begin{pmatrix} s_{x} & 0 & -s_{x}.t_{x} + t_{x} \\\\ 0 & s_{y} & -s_{y}.t_{y} + t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} x_{1} & x_{2} & x_{3} & x_{4}\\\\ y_{1} & y_{2} & y_{3} & y_{4}\\\\ 1 & 1 & 1 & 1 \\end{pmatrix}\\\\\\\\ &= \\begin{pmatrix} 2 & 0 & -2.3 + 3 \\\\ 0 & 2 & -2.2 + 2 \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} 2 & 4 & 4 & 2\\\\ 1 & 1 & 3 & 3\\\\ 1 & 1 & 1 & 1 \\end{pmatrix}\\\\\\\\ &= \\begin{pmatrix} 2 & 0 & -3 \\\\ 0 & 2 & -2 \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} 2 & 4 & 4 & 2\\\\ 1 & 1 & 3 & 3\\\\ 1 & 1 & 1 & 1 \\end{pmatrix}\\\\\\\\ \\begin{pmatrix} x_{1}^{\\prime} & x_{2}^{\\prime} & x_{3}^{\\prime} & x_{4}^{\\prime}\\\\ y_{1}^{\\prime} & y_{2}^{\\prime} & y_{3}^{\\prime} & y_{4}^{\\prime}\\\\ 1 & 1 & 1 & 1 \\end{pmatrix} &= \\begin{pmatrix} 1 & 5 & 5 & 1\\\\ 0 & 0 & 4 & 4\\\\ 1 & 1 & 1 & 1 \\end{pmatrix} \\end{aligned}\n$$\n![pinch-zoom](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210309120126.gif)\n\n### ç»„åˆç¤ºä¾‹ï¼š æ—‹è½¬å›¾åƒ\n\nå‡è®¾ä½ æœ‰ä¸€ä¸ªå›¾åƒè®¾ç½®åœ¨viewä¸­ï¼Œä½†æ˜¯åŸç‚¹å¹¶ä¸æ˜¯viewçš„ä¸­å¿ƒç‚¹ï¼Œé€šå¸¸åŸç‚¹å¯èƒ½åœ¨å·¦ä¸Šè§’ï¼Œä½†æ˜¯ä½ å¸Œæœ›èƒ½å¤Ÿå›´ç»•viewçš„ä¸­ç‚¹æ¥æ—‹è½¬å›¾åƒï¼›\n\nè¿™ä¸ªå˜æ¢çš„ç»„åˆåŒ…æ‹¬å¦‚ä¸‹åºåˆ—ï¼š\n\n- ç§»åŠ¨é”šç‚¹åˆ°åŸç‚¹ï¼š $\\left( -t_{x}, -t_{y} \\right)$\n- æ—‹è½¬ $\\theta$ è§’åº¦\n- ç§»åŠ¨å›é”šç‚¹: $\\left( t_{x}, t_{y} \\right)$\n\nå…¶ä¸­ $t$ æ˜¯æˆ‘ä»¬æ—‹è½¬å˜æ¢çš„é”šç‚¹ã€‚\n\nåŒæ ·çš„ï¼Œå˜æ¢è¿‡ç¨‹æœ‰å¦‚ä¸‹ä¸‰ä¸ªçŸ©é˜µï¼Œç¬¬ä¸€ä¸ªå¹³ç§»çŸ©é˜µ $\\mathbf{C}$ ï¼Œæ—‹è½¬çŸ©é˜µ $\\mathbf{B}$ ,è¿˜æœ‰åé¢çš„ä¸€ä¸ªå¹³ç§»çŸ©é˜µ$\\mathbf{A}$ ï¼š\n$$\n\\mathbf{C} = \\begin{pmatrix} 1 & 0 & -t_{x} \\\\ 0 & 1 & -t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix} \\text{ , } \\mathbf{B} = \\begin{pmatrix} \\cos \\theta & -\\sin \\theta & 0 \\\\ \\sin \\theta & \\cos \\theta & 0 \\\\ 0 & 0 & 1 \\end{pmatrix} \\text{ è¿˜æœ‰ } \\mathbf{A} = \\begin{pmatrix} 1 & 0 & t_{x} \\\\ 0 & 1 & t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix}\n$$\næˆ‘ä»¬å¯ä»¥ç»„åˆå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š\n$$\n\\begin{aligned} \\mathbf{A} . \\mathbf{B} . \\mathbf{C} &= \\begin{pmatrix} 1 & 0 & t_{x} \\\\ 0 & 1 & t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} \\cos \\theta & -\\sin \\theta & 0 \\\\ \\sin \\theta & \\cos \\theta & 0 \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} 1 & 0 & -t_{x} \\\\ 0 & 1 & -t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix}\\\\\\\\ &= \\begin{pmatrix} 1 & 0 & t_{x} \\\\ 0 & 1 & t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} \\cos \\theta & -\\sin \\theta & -\\cos \\theta.t_{x} +\\sin \\theta.t_{y} \\\\ \\sin \\theta & \\cos \\theta & -\\sin \\theta.t_{x} -\\cos \\theta.t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix}\\\\\\\\ \\mathbf{A} . \\mathbf{B} . \\mathbf{C} &= \\begin{pmatrix} \\cos \\theta & -\\sin \\theta & -\\cos \\theta.t_{x} +\\sin \\theta.t_{y} + t_{x} \\\\ \\sin \\theta & \\cos \\theta & -\\sin \\theta.t_{x} -\\cos \\theta.t_{y} + t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix} \\end{aligned}\n$$\nå‡è®¾æˆ‘ä»¬çš„viewçš„èŒƒå›´æ˜¯ä¸€ä¸ªæ­£æ–¹å½¢ï¼Œé¡¶ç‚¹åæ ‡å¦‚ä¸‹ï¼š\n$$\n\\begin{pmatrix}x_{1} & x_{2} & x_{3} & x_{4}\\\\y_{1} & y_{2} & y_{3} & y_{4}\\\\1 & 1 & 1 & 1\\end{pmatrix} = \\begin{pmatrix}2 & 4 & 4 & 2\\\\1 & 1 & 3 & 3\\\\1 & 1 & 1 & 1\\end{pmatrix}\n$$\n![rotate-image-init](https://i-rant.arnaudbos.com/img/matrices-for-developers/rotate-image-init.png)\n\næˆ‘ä»¬å¸Œæœ›å›´ç»•å…¶ä¸­å¿ƒæ—‹è½¬ $\\theta = 90^{\\circ}$ ï¼Œé‚£ä¹ˆæ–°çš„åæ ‡æ˜¯ï¼š\n$$\n\\begin{aligned} \\begin{pmatrix} x_{1}^{\\prime} & x_{2}^{\\prime} & x_{3}^{\\prime} & x_{4}^{\\prime}\\\\ y_{1}^{\\prime} & y_{2}^{\\prime} & y_{3}^{\\prime} & y_{4}^{\\prime}\\\\ 1 & 1 & 1 & 1 \\end{pmatrix} &= \\begin{pmatrix} \\cos \\theta & -\\sin \\theta & -\\cos \\theta.t_{x} +\\sin \\theta.t_{y} + t_{x} \\\\ \\sin \\theta & \\cos \\theta & -\\sin \\theta.t_{x} -\\cos \\theta.t_{y} + t_{y} \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} x_{1} & x_{2} & x_{3} & x_{4}\\\\ y_{1} & y_{2} & y_{3} & y_{4}\\\\ 1 & 1 & 1 & 1 \\end{pmatrix}\\\\\\\\ &= \\begin{pmatrix} 0 & -1 & -0.3+1.2+3 \\\\ 1 & 0 & -1.3-0.2+2 \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} 2 & 4 & 4 & 2\\\\ 1 & 1 & 3 & 3\\\\ 1 & 1 & 1 & 1 \\end{pmatrix}\\\\\\\\ &= \\begin{pmatrix} 0 & -1 & 5 \\\\ 1 & 0 & -1 \\\\ 0 & 0 & 1 \\end{pmatrix} . \\begin{pmatrix} 2 & 4 & 4 & 2\\\\ 1 & 1 & 3 & 3\\\\ 1 & 1 & 1 & 1 \\end{pmatrix}\\\\\\\\ \\begin{pmatrix} x_{1}^{\\prime} & x_{2}^{\\prime} & x_{3}^{\\prime} & x_{4}^{\\prime}\\\\ y_{1}^{\\prime} & y_{2}^{\\prime} & y_{3}^{\\prime} & y_{4}^{\\prime}\\\\ 1 & 1 & 1 & 1 \\end{pmatrix} &= \\begin{pmatrix} 4 & 4 & 2 & 2\\\\ 1 & 3 & 3 & 1\\\\ 1 & 1 & 1 & 1 \\end{pmatrix} \\end{aligned}\n$$\n![rotate-image](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210309121028.gif)\n\n![rotate-image](https://i-rant.arnaudbos.com/img/matrices-for-developers/rotate-image.gif)\n\n## èµ„æºåŠé“¾æ¥\n\n- [All the Geogebra files Iâ€™ve used to generate the graphics and gifs](https://github.com/arnaudbos/i-rant/tree/develop/static/code/matrices-for-developers)\n- [Khan Academy algebra course on matrices](https://www.khanacademy.org/math/algebra-home/alg-matrices)\n- [A course on â€œAffine Transformationâ€ at The University of Texas at Austin](https://www.cs.utexas.edu/~fussell/courses/cs384g-fall2010/lectures/lecture07-Affine.pdf)\n- [A course on â€œComposing Transformationsâ€ at The Ohio State University](http://web.cse.ohio-state.edu/~whmin/courses/cse5542-2013-spring/6-Transformation_II.pdf)\n- [A blogpost on â€œRotating imagesâ€ by Nick Berry](http://datagenetics.com/blog/august32013/)\n- [A Youtube video course on â€œThe Rotation Matrixâ€ by Michael J. Ruiz](https://www.youtube.com/watch?v=h11ljFJeaLo)\n- [Wikipedia on Homogeneous coordinates](https://en.wikipedia.org/wiki/Homogeneous_coordinates)\n- [A blogpost on â€œExplaining Homogeneous Coordinates & Projective Geometryâ€ by Tom Dalling](http://www.tomdalling.com/blog/modern-opengl/explaining-homogenous-coordinates-and-projective-geometry/)\n- [A blogpost on â€œHomogeneous Coordinatesâ€ by Song Ho Ahn](http://www.songho.ca/math/homogeneous/homogeneous.html)\n- [A Youtube video course on â€œ2D transformations and homogeneous coordinatesâ€ by Tarun Gehlot](https://www.youtube.com/watch?v=Xzu8_Fe3ImI)\n\n### [2D Transformations with Android and Java](https://i-rant.arnaudbos.com/2d-transformations-android-java/)\n\n### android çŸ©é˜µï¼š\n\n$$\n\\begin{bmatrix}\n  MSCALE\\_X & MSKEW\\_X & MTRANS\\_X \\\\\n  MSKEW\\_Y & MSCALE\\_Y & MTRANS\\_Y \\\\\n  MPERSP\\_0 & MPERSP\\_1 & MPERSP\\_2 \\\\\n\\end{bmatrix}\n$$\n\n| å­—æ®µ                                 | ç”¨é€”                                         |\n| ------------------------------------ | -------------------------------------------- |\n| `MSCALE_X`ï¼Œ`MSCALE_Y`               | æ§åˆ¶Xè½´å’ŒYè½´æ–¹å‘çš„ç¼©æ”¾                       |\n| `MSKEW_X`ï¼Œ`MSKEW_Y`                 | æ§åˆ¶Xåæ ‡å’ŒYåæ ‡çš„æ‰­æ›²ç³»æ•°(æ—‹è½¬)             |\n| `MTRANS_X`ï¼Œ`MTRANS_Y`               | æ§åˆ¶Xæ–¹å‘å’ŒYæ–¹å‘çš„çº¿æ€§å¹³ç§»                   |\n| `MPERSP_0` , `MPERSP_1` , `MPERSP_2` | MPERSP_0ã€MPERSP_1å’ŒMPERSP_2æ˜¯å…³äºé€è§†çš„æ§åˆ¶ |\n\n\n",
      "data": {
        "title": "[è¯‘]Androidå¼€å‘æ‰€éœ€è¦çš„çŸ©é˜µçŸ¥è¯†",
        "date": "2021-04-08 10:38:22",
        "tags": [],
        "published": true,
        "hideInList": false,
        "feature": null,
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "yi-android-kai-fa-suo-xu-yao-de-ju-zhen-zhi-shi"
    },
    {
      "content": "\n\næœ¬ç« ä¸»è¦å†…å®¹ï¼š\n\n* ç®€å•ä»‹ç»ç³»ç»Ÿæ¶æ„ã€ç¼–è¯‘ç¯å¢ƒçš„æ­å»º\n* ç®€å•ä»‹ç»åˆ©ç”¨ AndroidStudio è°ƒè¯• system_process è¿›ç¨‹çš„æ–¹æ³•åŠç¼–è¯‘æ›´æ–°éƒ¨åˆ†ç³»ç»Ÿæ¨¡å—çš„æ–¹å¼\n\n## Androidç³»ç»Ÿæ¶æ„\n\nAndroid ç³»ç»Ÿæ¶æ„å¦‚ä¸‹ä¸¤å›¾æ‰€ç¤ºï¼š\n\n![Android æ¡†æ¶è¯¦æƒ…](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210401092831.png) \n\n![Android ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210401092925.png)\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n\n\n- **åº”ç”¨æ¡†æ¶**ã€‚åº”ç”¨æ¡†æ¶æœ€å¸¸è¢«åº”ç”¨å¼€å‘è€…ä½¿ç”¨ã€‚å¾ˆå¤šæ­¤ç±» API éƒ½å¯ä»¥ç›´æ¥æ˜ å°„åˆ°åº•å±‚ HAL æ¥å£ï¼Œå¹¶å¯æä¾›ä¸å®ç°é©±åŠ¨ç¨‹åºç›¸å…³çš„å®ç”¨ä¿¡æ¯ã€‚\n- **Binder IPC**ã€‚Binder è¿›ç¨‹é—´é€šä¿¡ (IPC) æœºåˆ¶å…è®¸åº”ç”¨æ¡†æ¶è·¨è¶Šè¿›ç¨‹è¾¹ç•Œå¹¶è°ƒç”¨ Android ç³»ç»ŸæœåŠ¡ä»£ç ï¼Œè¿™ä½¿å¾—é«˜çº§æ¡†æ¶ API èƒ½ä¸ Android ç³»ç»ŸæœåŠ¡è¿›è¡Œäº¤äº’ã€‚åœ¨åº”ç”¨æ¡†æ¶çº§åˆ«ï¼Œå¼€å‘è€…æ— æ³•çœ‹åˆ°æ­¤ç±»é€šä¿¡çš„è¿‡ç¨‹ï¼Œä½†ä¸€åˆ‡ä¼¼ä¹éƒ½åœ¨â€œæŒ‰éƒ¨å°±ç­åœ°è¿è¡Œâ€ã€‚\n- **ç³»ç»ŸæœåŠ¡**ã€‚ç³»ç»ŸæœåŠ¡æ˜¯ä¸“æ³¨äºç‰¹å®šåŠŸèƒ½çš„æ¨¡å—åŒ–ç»„ä»¶ï¼Œä¾‹å¦‚çª—å£ç®¡ç†å™¨ã€æœç´¢æœåŠ¡æˆ–é€šçŸ¥ç®¡ç†å™¨ã€‚åº”ç”¨æ¡†æ¶ API æ‰€æä¾›çš„åŠŸèƒ½å¯ä¸ç³»ç»ŸæœåŠ¡é€šä¿¡ï¼Œä»¥è®¿é—®åº•å±‚ç¡¬ä»¶ã€‚Android åŒ…å«ä¸¤ç»„æœåŠ¡ï¼šâ€œç³»ç»Ÿâ€ï¼ˆè¯¸å¦‚çª—å£ç®¡ç†å™¨å’Œé€šçŸ¥ç®¡ç†å™¨ä¹‹ç±»çš„æœåŠ¡ï¼‰å’Œâ€œåª’ä½“â€ï¼ˆä¸æ’­æ”¾å’Œå½•åˆ¶åª’ä½“ç›¸å…³çš„æœåŠ¡ï¼‰ã€‚\n- **ç¡¬ä»¶æŠ½è±¡å±‚ (HAL)**ã€‚HAL å¯å®šä¹‰ä¸€ä¸ªæ ‡å‡†æ¥å£ä»¥ä¾›ç¡¬ä»¶ä¾›åº”å•†å®ç°ï¼Œè¿™å¯è®© Android å¿½ç•¥è¾ƒä½çº§åˆ«çš„é©±åŠ¨ç¨‹åºå®ç°ã€‚å€ŸåŠ© HALï¼Œç¡¬ä»¶å¼€å‘è€…å¯ä»¥é¡ºåˆ©å®ç°ç›¸å…³åŠŸèƒ½ï¼Œè€Œä¸ä¼šå½±å“æˆ–æ›´æ”¹æ›´é«˜çº§åˆ«çš„ç³»ç»Ÿã€‚HAL å®ç°ä¼šè¢«å°è£…æˆæ¨¡å—ï¼Œå¹¶ä¼šç”± Android ç³»ç»Ÿé€‚æ—¶åœ°åŠ è½½ã€‚å¦‚éœ€äº†è§£è¯¦æƒ…ï¼Œè¯·å‚é˜…[ç¡¬ä»¶æŠ½è±¡å±‚ (HAL)](https://source.android.google.cn/devices/architecture/hal?hl=zh-cn)ã€‚\n- **Linux å†…æ ¸**ã€‚å¼€å‘è®¾å¤‡é©±åŠ¨ç¨‹åºä¸å¼€å‘å…¸å‹çš„ Linux è®¾å¤‡é©±åŠ¨ç¨‹åºç±»ä¼¼ã€‚Android ä½¿ç”¨çš„ Linux å†…æ ¸ç‰ˆæœ¬åŒ…å«ä¸€äº›ç‰¹æ®Šçš„è¡¥å……åŠŸèƒ½ï¼Œä¾‹å¦‚ä½å†…å­˜ç»ˆæ­¢å®ˆæŠ¤è¿›ç¨‹ï¼ˆä¸€ä¸ªå†…å­˜ç®¡ç†ç³»ç»Ÿï¼Œå¯æ›´ä¸»åŠ¨åœ°ä¿ç•™å†…å­˜ï¼‰ã€å”¤é†’é”å®šï¼ˆä¸€ç§ [`PowerManager`](https://developer.android.google.cn/reference/android/os/PowerManager.html?hl=zh-cn) ç³»ç»ŸæœåŠ¡ï¼‰ã€Binder IPC é©±åŠ¨ç¨‹åºï¼Œä»¥åŠå¯¹ç§»åŠ¨åµŒå…¥å¼å¹³å°æ¥è¯´éå¸¸é‡è¦çš„å…¶ä»–åŠŸèƒ½ã€‚è¿™äº›è¡¥å……åŠŸèƒ½ä¸»è¦ç”¨äºå¢å¼ºç³»ç»ŸåŠŸèƒ½ï¼Œä¸ä¼šå½±å“é©±åŠ¨ç¨‹åºå¼€å‘ã€‚å¯ä»¥ä½¿ç”¨ä»»æ„ç‰ˆæœ¬çš„å†…æ ¸ï¼Œåªè¦å®ƒæ”¯æŒæ‰€éœ€åŠŸèƒ½ï¼ˆå¦‚ Binder é©±åŠ¨ç¨‹åºï¼‰å³å¯ã€‚ä¸è¿‡å»ºè®®ä½¿ç”¨ Android å†…æ ¸çš„æœ€æ–°ç‰ˆæœ¬ã€‚å¦‚éœ€äº†è§£è¯¦æƒ…ï¼Œè¯·å‚é˜…[æ„å»ºå†…æ ¸](https://source.android.google.cn/setup/building-kernels?hl=zh-cn)ä¸€æ–‡ã€‚\n\n> ä»¥ä¸Šéƒ¨åˆ†å†…å®¹æ¥æºï¼š https://source.android.google.cn/devices/architecture?hl=zh-cn\n\n## æ­å»ºå¼€å‘ç¯å¢ƒå¹¶ç¼–è¯‘æºç \n\næœ¬èŠ‚å°†è®¨è®º Android 11 æºç ä¸‹è½½å’Œç¼–è¯‘çš„æ–¹æ³•ã€AndroidStudioå¼€å‘ç¯å¢ƒçš„æ­å»ºæ–¹æ³•ï¼ŒåŠ system_process è¿›ç¨‹çš„è°ƒè¯•æ–¹æ³•ç­‰ç›¸å…³çŸ¥è¯†ã€‚\n\n### é€‰æ‹©åˆ†æ”¯\n\nå¯å‚è€ƒ source.android.google.cn çš„æ–‡æ¡£ [ä»£å·ã€æ ‡è®°å’Œ Build å·](https://source.android.google.cn/setup/start/build-numbers) ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰æœ€æ–°çš„ç‰ˆæœ¬åŠæ ‡è®°å¦‚ä¸‹ï¼š\n\n| Build           | æ ‡è®°               | ç‰ˆæœ¬      | æ”¯æŒçš„è®¾å¤‡                                                   | å®‰å…¨è¡¥ä¸ç¨‹åºçº§åˆ« |\n| :-------------- | :----------------- | :-------- | :----------------------------------------------------------- | :--------------- |\n| RQ2A.210305.007 | android-11.0.0_r33 | Android11 | --                                                           | --               |\n| RQ1D.210105.003 | android-11.0.0_r28 | Android11 | Pixel 3ã€Pixel 3 XLã€Pixel 4a (5G)ã€Pixel 5                  | 2021-01-05       |\n| RQ1A.210105.003 | android-11.0.0_r27 | Android11 | Pixel 3ã€Pixel 3 XLã€Pixel 4ã€Pixel 4a (5G)ã€Pixel 4 XLã€Pixel 5 | 2021-01-05       |\n| RQ1A.210105.002 | android-11.0.0_r26 | Android11 | Pixel 3aã€Pixel 3a XLã€Pixel 4a                              | 2021-01-05       |\n\nå‚è€ƒä»£ç ä»“åº“ä¸­çš„[æœ€æ–°Tag](https://android.googlesource.com/platform/bionic/+/refs/tags/android-11.0.0_r33)ï¼Œæˆ‘ä»¬é€‰æ‹© `android-11.0.0_r33`\n\n### æ­å»ºAndroidæ„å»ºç¯å¢ƒ\n\næ„å»ºç¯å¢ƒçš„æ­å»ºå¯å‚è€ƒå®˜æ–¹çš„ [æ­å»ºæ„å»ºç¯å¢ƒ](https://source.android.google.cn/setup/build/initializing) æ–‡æ¡£ï¼Œä»¥ä¸‹ç»“åˆå®é™…æ­å»ºè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ç®€è¦è¿›è¡Œä»‹ç»ã€‚\n\n#### æ„å»ºç¯å¢ƒè¦æ±‚\n\né¦–å…ˆéœ€è¦æœºå™¨æ»¡è¶³ä¸€äº›[è¦æ±‚](https://source.android.google.cn/setup/build/requirements)ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œéœ€è¦ï¼š\n\n* æ“ä½œç³»ç»Ÿï¼š Linux æˆ–è€… macOS\n* å†…å­˜ï¼š 16GBçš„å¯ç”¨RAM/äº¤æ¢ç©ºé—´\n* ç¡¬ç›˜ï¼š æ£€å‡ºä»£ç è‡³å°‘250GBå¯ç”¨ç£ç›˜ç©ºé—´ï¼Œå¦‚æœéœ€è¦æ„å»ºï¼Œåˆ™è¿˜éœ€è¦150GB\n\nä»Android8.0 å¼€å§‹ï¼Œå¯ä»¥ä½¿ç”¨æºç ä¸­å¸¦çš„Dockerfileæ¥æ„å»ºä¸€ä¸ªé•œåƒç”¨äºç¼–è¯‘aospæºç ï¼›ä¸‹é¢æˆ‘ä»¬å°†åˆ†åˆ«ä»‹ç»å¦‚ä½•æ„å»ºç¼–è¯‘ç”¨çš„Dockeré•œåƒåŠç›´æ¥åœ¨macOS11.2ä¸Šæ­å»ºæ„å»ºç¯å¢ƒï¼Œæ„å»ºæ—¶æ ¹æ®æƒ…å†µä»»é€‰ä¸€ç§å³å¯ã€‚\n\n> æç¤ºï¼š\n>\n> æœ€æ–°çš„æ„å»ºè¦æ±‚å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ [aospæºç æ„å»ºè¦æ±‚](https://source.android.google.cn/setup/build/requirements)\n\n#### æ­å»ºæ„å»ºç¯å¢ƒ-Docker\n\n> dockeré•œåƒåŸºäºubuntu:18.04ï¼Œæ‰€ä»¥ubuntuä¸Šä¹Ÿå¯ä»¥æŒ‰ç…§dockerfileä¸­çš„å‘½ä»¤é…ç½®ç¯å¢ƒ\n\nè¿™é‡Œå‡è®¾å®‰è£…äº†Dockerï¼Œå¦‚æœæ²¡æœ‰å®‰è£…ï¼Œå¯ä»¥å‚è€ƒ[Dockerå®˜æ–¹å®‰è£…æ–‡æ¡£](https://docs.docker.com/engine/install/)è¿›è¡Œå®‰è£…ã€‚\n\n```shell\nmkdir docker\ncd docker\n```\n\nå°†å¦‚ä¸‹å†…å®¹ä¿å­˜ä¸ºDockerfileï¼Œå¹¶å­˜å‚¨åˆ°ä¹‹å‰å»ºç«‹çš„dockerç›®å½•\n\n```dockerfile\nFROM ubuntu:18.04\n\nARG userid\nARG groupid\nARG username\n\nRUN apt-get update \\\n    && apt-get install -y git-core gnupg flex bison build-essential zip \\\n    curl zlib1g-dev gcc-multilib g++-multilib libc6-dev-i386 lib32ncurses5-dev \\\n    x11proto-core-dev libx11-dev lib32z1-dev libgl1-mesa-dev libxml2-utils xsltproc unzip fontconfig \\\n    python3 \\\n    && rm -rf /var/lib/apt/lists/* \n    \n# æœ€æ–°çš„AOSPæºç ä¸­å·²ç»å¸¦äº†JDKï¼Œæ‰€ä»¥æ— éœ€å®‰è£…\n# RUN curl -o jdk8.tgz https://android.googlesource.com/platform/prebuilts/jdk/jdk8/+archive/master.tar.gz \\\n#  && tar -zxf jdk8.tgz linux-x86 \\\n#  && mv linux-x86 /usr/lib/jvm/java-8-openjdk-amd64 \\\n#  && rm -rf jdk8.tgz\n\nRUN curl -o /usr/local/bin/repo https://storage.googleapis.com/git-repo-downloads/repo \\\n && chmod a+x /usr/local/bin/repo \\\n && ln -s /usr/bin/python3 /usr/bin/python\n\nRUN groupadd -f -g $groupid $username || true \\\n && useradd -m -u $userid -g $groupid $username \\\n && echo $username >/root/username \\\n && echo \"export USER=\"$username >>/home/$username/.gitconfig\nCOPY gitconfig /home/$username/.gitconfig\nRUN chown $userid:$groupid /home/$username/.gitconfig\nENV HOME=/home/$username\nENV USER=$username\nENTRYPOINT chroot --userspec=$(cat /root/username):$(cat /root/username) / /bin/bash -i\n```\n\n> ä»¥ä¸ŠdockerfileåŸºäºæºç ä¸­ `build/make/tools/docker/Dockerfile` ä¿®æ”¹\n\n**æ„å»ºé•œåƒï¼š**\n\n```shell\n# Copy your host gitconfig, or create a stripped down version\n$ cp ~/.gitconfig gitconfig\n$ docker build --build-arg userid=$(id -u) --build-arg groupid=$(id -g) --build-arg username=$(id -un) -t android-build-bionic .\n```\n\n**ä½¿ç”¨é•œåƒï¼š**\n\n> å¯ä»¥ç›´æ¥ä½¿ç”¨æˆ‘å·²ç»æ„å»ºå¥½çš„é•œåƒï¼š `hanlyjiang/android-build-bionic`ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ‹‰å–å¹¶ä¿®æ”¹tagï¼š\n>\n> `docker pull hanlyjiang/android-build-bionic`\n>\n> `docker tag hanlyjiang/android-build-bionic android-build-bionic:latest`\n\nå‡è®¾aospçš„æºç ç›®å½•ä½äº ï½/aosp\n\n```shell\n# è®¾ç½®å˜é‡æŒ‡å‘æºç é¡¶å±‚ç›®å½•\nANDROID_BUILD_TOP=~/aosp\n# å¦‚è‡ªè¡Œæ„å»ºé•œåƒï¼Œæ­¤å¤„\nBUILD_IMAGE=android-build-bionic\ncd $ANDROID_BUILD_TOP\n# è¿è¡Œå®¹å™¨ï¼Œå¹¶å°†aospæºç ç›®å½•æŒ‚è½½åˆ°å®¹å™¨å†…éƒ¨çš„/srcç›®å½•\ndocker run -it --rm --name aosp-builder -v $PWD:/src $BUILD_IMAGE\n```\n\nå¯åŠ¨æˆåŠŸåå°±ä¼šè¿›å…¥å®¹å™¨çš„shellä¸­ï¼Œä¹‹ååœ¨å®¹å™¨ä¸­è¿›è¡Œæ‰§è¡Œå¯¹åº”çš„ç¼–è¯‘å‘½ä»¤å³å¯ã€‚\n\n> **dockerä½¿ç”¨æç¤ºï¼š**\n>\n> 1. ä¸Šé¢çš„`docker run `å‘½ä»¤ä¸­æ·»åŠ äº† `--rm` é€‰é¡¹ï¼Œåœ¨å¯åŠ¨çš„äº¤äº’å¼bashç»“æŸåå°±ä¼šè‡ªåŠ¨ç§»é™¤å®¹å™¨ã€‚ä¹‹åéœ€è¦å†æ¬¡è¾“å…¥`docker run`å‘½ä»¤å¯åŠ¨å®¹å™¨ï¼›ä¸ºäº†é¿å…æ¯æ¬¡éƒ½è¾“å…¥å¦‚ä¸Šå‘½ä»¤å¯åŠ¨å®¹å™¨ï¼Œå¯ä»¥ç§»é™¤`--rm` é€‰é¡¹\n> 2. æˆ‘ä»¬æ‰§è¡Œæ„å»ºä¸€èˆ¬éœ€è¦è¾ƒé•¿æ—¶é—´ï¼ŒæœŸé—´å¦‚æœæˆ‘ä»¬é€€å‡ºå®¹å™¨çš„bashï¼Œåˆ™æ„å»ºä»»åŠ¡ä¼šç»ˆæ­¢ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ `ctrl+P ctrl+Q` å‘½ä»¤å‘Šè¯‰dockeræˆ‘ä»¬éœ€è¦å…³é—­å®¹å™¨åˆ°æœ¬æœºçš„è¾“å…¥è¾“å‡ºé‡å®šå‘ï¼Œä½†æ˜¯å¹¶ä¸æš‚åœä»»ä½•æ‰§è¡Œçš„ä»»åŠ¡ã€‚ä¹‹åå†ä½¿ç”¨ `docker attach aosp-builder`ï¼ˆaosp-builderæ˜¯æˆ‘ä»¬å¯åŠ¨æ—¶æŒ‡å®šçš„å®¹å™¨åç§°ï¼‰ å³å¯é‡æ–°å°†å®¹å™¨è¾“å…¥è¾“å‡ºé‡å®šå‘åˆ°æœ¬æœºç»ˆç«¯ï¼Œç»§ç»­ä¸å®¹å™¨å†…çš„shelläº¤äº’ã€‚\n\n#### æ­å»ºæ„å»ºç¯å¢ƒ-macOS11.2\n\nè¿™é‡Œä»‹ç»ä¸‹macOSï¼ˆx86ï¼‰ç¼–è¯‘çš„ç¯å¢ƒé…ç½®\n\n1. å‡†å¤‡æºç ç›®å½•\n\n   ç”±äºmacOSé»˜è®¤çš„åˆ†åŒºæ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œä½†æ˜¯aospç¼–è¯‘éœ€è¦åŒºåˆ†å¤§å°å†™ï¼Œæ‰€ä»¥éœ€è¦åˆ›å»ºä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„åˆ†åŒºï¼Œè¿™é‡Œå¯ä»¥æœ‰ä¸¤ç§é€‰æ‹©ï¼š\n\n   1ï¼‰ä½¿ç”¨å¦å¤–ä¸€ä¸ªç£ç›˜ï¼ˆå¦‚å¤–ç½®çš„ç§»åŠ¨ç¡¬ç›˜ï¼‰ï¼Œç„¶åä½¿ç”¨ç£ç›˜å·¥å…·å°†å…¶æŠ¹æ‰ä¸ºåŒºåˆ†å¤§å°å†™çš„åˆ†åŒºï¼›\n\n   2ï¼‰åˆ›å»ºä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„ç£ç›˜æ˜ åƒï¼Œå¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ‰§è¡Œ\n\n   ```shell\n   hdiutil create -type SPARSE -fs 'Case-sensitive Journaled HFS+' -size 250g ~/android.dmg.sparseimage\n   \n   # å®šä¹‰è£…è½½å¸è½½å‡½æ•°\n   mountAndroid() { hdiutil attach ~/android.dmg.sparseimage -mountpoint /Volumes/android; }\n   umountAndroid() { hdiutil detach /Volumes/android; }\n   # è£…è½½åˆšåˆšåˆ›å»ºçš„ç£ç›˜æ˜ åƒåˆ° /Volumes/android ç›®å½•ï¼Œä¹‹åcd åˆ°æ­¤ç›®å½•æ‰§è¡Œå³å¯\n   mountAndroid\n   ```\n\n2. å®‰è£… xcode å‘½ä»¤è¡Œå·¥å…·\n\n   ```shell\n   xcode-select --install\n   ```\n\n3. è®¾ç½®bash\n\n   ```shell\n   # å¯åŠ å…¥åˆ°ï½/.bash_profile æ–‡ä»¶ä¸­\n   ulimit -S -n 2048\n   ```\n\n4. ä¸‹è½½ 10.15 SDK\n\n   ä»æ­¤å¤„ä¸‹è½½ï¼š https://github.com/phracker/MacOSX-SDKs/releases\n\n   ä¸‹è½½å®Œæˆåæ”¾å…¥åˆ°æ­¤ç›®å½•ï¼š`/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/`\n\n5. ä¿®å¤ä»£ç ï¼ˆåœ¨ä¸‹è½½å®Œæˆæºç ä¹‹åæ‰§è¡Œï¼‰\n\n   * ç¼–è¾‘æ–‡ä»¶ `system/core/base/cmsg.cpp`\n\n   * æ·»åŠ ä¸€è¡Œï¼š`size_t psize = getpagesize();`\n\n     ```cpp\n     namespace base {\n         \n     size_t psize = getpagesize();\n         \n     ssize_t SendFileDescriptorVector(borrowed_fd sockfd, const void* data, size_t len,\n     ```\n\n   * å°†æ–‡ä»¶ä¸­æ‰€æœ‰ **PAGE_SIZE** æ›¿æ¢ä¸º **psize**\n\n> å‚è€ƒï¼š\n>\n> * [Building Android 11 for PH-1 on Apple Silicon](https://nf4789.medium.com/building-android-11-for-ph-1-on-apple-silicon-6600436a36a0)\n> * [Could not find a supported mac sdk: â€œ10.10â€ â€œ10.11â€ â€œ10.12â€ â€œ10.13â€](https://stackoverflow.com/questions/50760701/could-not-find-a-supported-mac-sdk-10-10-10-11-10-12-10-13)\n> * [åˆ›å»ºåŒºåˆ†å¤§å°å†™çš„ç£ç›˜æ˜ åƒ-source.android.google.cn](https://source.android.google.cn/setup/build/initializing?hl=zh-cn#creating-a-case-sensitive-disk-image)\n\n### ä¸‹è½½æºç \n\n#### å®‰è£…Repo\n\n> æç¤ºï¼š å…ˆå‰æ„å»ºçš„dockeré•œåƒä¸­å·²ç»å®‰è£…äº†repoï¼Œå¦‚ä½¿ç”¨é•œåƒï¼Œå¯è·³è¿‡æ­¤æ­¥éª¤\n\n```shell\nmkdir ~/.bin\nPATH=~/.bin:$PATH\n\n# è¿™é‡Œå¯èƒ½éœ€è¦å¼€å¯ä»£ç†\ncurl https://storage.googleapis.com/git-repo-downloads/repo > ~/bin/repo\nchmod a+x ~/bin/repo\n\n# éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ\nrepo help\n```\n\nè¾“å‡ºå¦‚ä¸‹åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸï¼š\n\n```shell\nusage: repo COMMAND [ARGS]\n\nrepo is not yet installed.  Use \"repo init\" to install it here.\n\nThe most commonly used repo commands are:\n\n  init      Install repo in the current working directory\n  help      Display detailed help on a command\n\nFor access to the full online help, install repo (\"repo init\").\n```\n\n#### è·å–aospæºç åº•åŒ…\n\n```shell\nwget https://mirrors.tuna.tsinghua.edu.cn/aosp-monthly/aosp-latest.tar\n# è§£å‹\ntar xf aosp-latest.tar\n```\n\næˆ–è€…ç›´æ¥ä¸‹è½½ï¼š\n\n```shell\nmkdir aosp ; cd aosp \nrepo init -u https://android.googlesource.com/platform/manifest -b android-11.0.0_r33\n```\n\nç„¶åæ‰§è¡Œä»£ç åŒæ­¥å‘½ä»¤ï¼š\n\n```shell\nrepo sync -c -j16\n```\n\n> repo sync å‘½ä»¤è¯´æ˜ï¼š \n>\n> * é€šè¿‡ `-c` æŒ‡å®šåªè·å–å½“å‰åˆ†æ”¯\n> * é€šè¿‡ `-j16` æŒ‡å®šå¹¶è¡Œè·å–çš„çº¿ç¨‹æ•°é‡ï¼Œè¿™é‡Œæˆ‘ç”µè„‘ä¸º8æ ¸ï¼Œæ‰€ä»¥æŒ‡å®šäº†16ä¸ªçº¿ç¨‹\n\n> **æç¤ºï¼š**\n>\n> ä»£ç ä¸‹è½½å®Œæˆåï¼Œæˆ‘ä»¬å¤åˆ¶ä¸€ä»½åˆ°å¦å¤–ä¸€ä¸ªç›®å½•åªç”¨äºæµè§ˆä»£ç  `rsync -a -H --progress aosp aosp-ro`\n\n### ç¼–è¯‘æºç \n\né¦–å…ˆï¼Œ æˆ‘ä»¬ä½¿ç”¨ repo å¯åŠ¨ä¸€ä¸ªå·¥ä½œåˆ†æ”¯\n\n```shell\nrepo start dev_android11_r33 --all\n```\n\nåˆå§‹åŒ–ç¯å¢ƒï¼š\n\n```shell\nsource build/envsetup.sh\n```\n\n`envsetup.sh` è„šæœ¬ä¼šå¯¼å…¥è‹¥å¹²å‘½ä»¤ï¼Œå¯ä½¿ç”¨ `hmm` æŸ¥çœ‹å®Œæ•´çš„å¯ç”¨å‘½ä»¤åˆ—è¡¨ã€‚\n\né€‰æ‹©ç›®æ ‡ï¼š\n\n```shell\nlunch aosp_x86_64-eng\n```\n\nè¾“å‡ºå¦‚ä¸‹ï¼š\n\n```shell\n$ lunch aosp_x86_64-eng\n============================================\nPLATFORM_VERSION_CODENAME=REL\nPLATFORM_VERSION=11\nTARGET_PRODUCT=aosp_x86_64\nTARGET_BUILD_VARIANT=eng\nTARGET_BUILD_TYPE=release\nTARGET_ARCH=x86_64\nTARGET_ARCH_VARIANT=x86_64\nTARGET_2ND_ARCH=x86\nTARGET_2ND_ARCH_VARIANT=x86_64\nHOST_ARCH=x86_64\nHOST_OS=darwin\nHOST_OS_EXTRA=Darwin-20.3.0-x86_64-11.2.3\nHOST_BUILD_TYPE=release\nBUILD_ID=RQ2A.210305.007\nOUT_DIR=out\nPRODUCT_SOONG_NAMESPACES=device/generic/goldfish device/generic/goldfish-opengl hardware/google/camera hardware/google/camera/devices/EmulatedCamera device/generic/goldfish device/generic/goldfish-opengl\n```\n\næ„å»ºï¼š\n\n```shell\nmake -j16\n```\n\n> æç¤ºï¼šæ„å»ºå‘½ä»¤å¯å‚è€ƒ [å®˜æ–¹æ–‡æ¡£-ç¼–è¯‘ Android](https://source.android.google.cn/setup/build/building)\n\næ„å»ºæˆåŠŸåè¾“å‡ºå¦‚ä¸‹ï¼š\n\n```shell\n[100% 119047/119047] Create system-qemu.img now\nremoving out/target/product/generic_x86_64/system-qemu.img.qcow2\nout/host/darwin-x86/bin/sgdisk --clear out/target/product/generic_x86_64/system-qemu.img\n\n#### build completed successfully (14:34:15 (hh:mm:ss)) ####\n```\n\næˆ‘ä»¬è¿™é‡Œä½¿ç”¨æ¨¡æ‹Ÿå™¨è¿›è¡Œè¿è¡Œ\n\n```shell\nemulator\n```\n\nè¿è¡Œèµ·æ¥ä¹‹åï¼ŒæŸ¥çœ‹å…¶ä¸­çš„ç³»ç»Ÿç‰ˆæœ¬å·å¦‚ä¸‹ï¼š\n\n<img src=\"https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210403135316.png\" alt=\"Screenshot_1617429150\" style=\"zoom:35%;\" />\n\n## ä½¿ç”¨AndroidStudioè°ƒè¯• `system_process`\n\næœ¬å°èŠ‚ä»‹ç»å¦‚ä½•ä½¿ç”¨ASæ¥è°ƒè¯•Android Java Frameworkçš„æ ¸å¿ƒè¿›ç¨‹ system_processã€‚\n\n### ä¸‹è½½å®‰è£…AndroidStudio\n\nä»[AndroidStudioå®˜æ–¹é¡µé¢](https://developer.android.google.cn/studio)ä¸‹è½½å®‰è£…è¿è¡Œå³å¯\n\n### ç”ŸæˆASé¡¹ç›®é…ç½®\n\næ€»çš„æµç¨‹å¦‚ä¸‹ï¼š\n\n* å…¨é‡ç¼–è¯‘ä¸€æ¬¡aospæºç \n* ç¼–è¯‘`development/tools/idegen` ç”Ÿæˆ `idegen.jar` æ–‡ä»¶ï¼›\n* ä½¿ç”¨`development/tools/idegen/idegen.sh` ç”ŸæˆASé¡¹ç›®é…ç½®\n* ä½¿ç”¨AndroidStudioæ‰“å¼€ç”Ÿæˆçš„é…ç½®ï¼Œå¯¼å…¥æºç é¡¹ç›®\n\nå…¶ä¸­ `idegen.sh` ä»…æ˜¯ç®€å•çš„ä½¿ç”¨javaæ‰§è¡Œidegen.jarï¼Œidegen.jar ä¼šåœ¨æºç æ ¹ç›®å½•ç”Ÿæˆandroidstudioä½¿ç”¨çš„ä¸¤ä¸ªæ–‡ä»¶ï¼Œå³`android.iml`å’Œ`android.ipr`ï¼Œç”Ÿæˆè¿‡ç¨‹ä¸­ä¼šè¯»å– `excluded-paths` æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å®šä¹‰è¿‡æ»¤è§„åˆ™ï¼Œè¯¥æ–‡ä»¶ä¼šä»ä¸‰ä¸ªè·¯å¾„å»è¯»å–ï¼š\n\n* `development/tools/idegen/excluded-paths`\n* `vendor/google/excluded-paths`\n* æºç æ ¹ç›®å½•çš„ `excluded-paths`\n\næ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å°†è‡ªå·±çš„è¿‡æ»¤è§„åˆ™å®šä¹‰åˆ°æºç æ ¹ç›®å½•çš„ `excluded-paths`æ–‡ä»¶ä¸­å³å¯ã€‚\n\n`android.iml` ä¸­æœ‰ä¸‰ç§xmlé…ç½®: \n\n1ï¼‰`sourceFolder`;\n\n2) `excludeFolder`;\n\n3) `orderEntry`; \n\nidegen.jar åœ¨æ‰§è¡Œæ—¶ä¼šæ ¹æ®é…ç½®çš„è§„åˆ™è‡ªåŠ¨å†™å…¥è¿™ä¸‰ç§è§„åˆ™ï¼Œå…¶ä¸­sourceFolderç”¨äºæŒ‡å®šæºç ç›®å½•-å³asä¼šå°†å…¶ä½œä¸ºæºç å¯¼å…¥ï¼ŒexcludeFolderç”¨äºæŒ‡å®šæ’é™¤ç›®å½•-å³aså‹æ ¹ä¸ä¼šå»æœç´¢ä»»ä½•æ–‡ä»¶ï¼Œä¹Ÿä¸ä¼šå¯¹å…¶ä¸­çš„æ–‡ä»¶å»ºç«‹ç´¢å¼•ï¼ŒorderEntry åˆ™ä¸€èˆ¬ç”¨äºæŒ‡å®šä¾èµ–çš„jaræ–‡ä»¶ï¼›\n\nåœ¨idegen.jarçš„é€»è¾‘ä¸­ï¼š\n\n* æ²¡æœ‰è¢«è¿‡æ»¤è§„åˆ™åŒ¹é…åˆ°çš„ç›®å½•éƒ½ä¼šå°è¯•å»å…¶ä¸­æœå¯»javaåŠjaræ–‡ä»¶ï¼Œåªæœ‰åœ¨å…¶ä¸­æ‰¾åˆ°äº†æºç æ–‡ä»¶ï¼Œæ‰ä¼šè¢«åŠ å…¥åˆ°sourceFolderä¸­ã€‚\n* è¿‡æ»¤è§„åˆ™ä¸­é…ç½®çš„ç›®å½•ï¼Œåªæœ‰å…¶ä¸­æœ‰javaåŠjaræ–‡ä»¶æ—¶ï¼Œæ‰ä¼šè¢«åŠ å…¥åˆ°excludeFolderé…ç½®ä¸­ã€‚\n* å¦‚æœç›®å½•ä¸­æ‰¾åˆ°äº†javaæ–‡ä»¶ï¼Œä¼šå»è¯»å–javaæ–‡ä»¶ï¼Œè‡ªåŠ¨ç¡®è®¤sourceFolderçš„å¼€å§‹è·¯å¾„ï¼Œä»¥ä¿è¯è·¯å¾„èƒ½æ­£ç¡®åŒ¹é…åŒ…åï¼Œå¦‚ï¼šæœ‰ä¸ªç›®å½•`de vice/test/src/java/android/Test.java`ï¼Œå…¶ä¸­Test.javaçš„åŒ…ä¸ºandroidï¼Œé‚£ä¹ˆsourceFolderçš„è·¯å¾„ä¼šè‡ªåŠ¨è®¾ç½®ä¸º`de vice/test/src/java/`ã€‚\n\n#### ä¿®æ”¹idegenä»£ç å¹¶ç¼–è¯‘idegen.jar\n\nä¿®æ”¹ `development/tools/idegen` æ¨¡å—ä»£ç åŠé…ç½®\n\n1. `src/Log.java` ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬æŸ¥çœ‹ç”Ÿæˆçš„è¿‡ç¨‹ï¼Œæ‰“å¼€debugæ—¥å¿—å¼€å…³\n\n   ```java\n   class Log {\n   \n       static final boolean DEBUG = true;\n       \n       // ...\n   }\n   ```\n\n2. `src/IntelliJ.java` , è¿™é‡Œç”±äºä»£ç ä¸­ä¹¦å†™é”™è¯¯ï¼Œprebuilt å®é™…ä¸Šåœ¨æºç ä¸­å¹¶ä¸å­˜åœ¨ï¼Œæˆ‘ä»¬æ‰‹åŠ¨å°†å…¶ä¿®æ”¹ä¸º `prebuilts`\n\n   ```java\n           sourceRootsXml.append(\"<excludeFolder url=\\\"file://$MODULE_DIR$/out/target/product\\\"/>\\n\");\n   // ä¿®æ”¹è¿™ä¸€è¡Œ prebuilt --> prebuilts\n           sourceRootsXml.append(\"<excludeFolder url=\\\"file://$MODULE_DIR$/prebuilts\\\"/>\\n\");\n   \n   ```\n\n3. ç¼–è¯‘ç”Ÿæˆ idegen.jar\n\n   ```shell\n   # åœ¨æºç æ ¹ç›®å½•æ‰§è¡Œ\n   source build/envsetup.sh\n   cd development/tools/idegen\n   mm -j16\n   ```\n\n   æˆåŠŸç”Ÿæˆåè¾“å‡ºå¦‚ä¸‹ï¼š\n\n   ```shell\n   [100% 228/228] Install: out/host/darwin-x86/framework/idegen.jar\n   #### build completed successfully (05:30 (mm:ss)) ####\n   ```\n\n\n\n#### æ‰‹åŠ¨è·å–javaæ–‡ä»¶\n\n##### æ‰‹åŠ¨è·å–AIDLç”Ÿæˆçš„javaæ–‡ä»¶\n\næˆ‘ä»¬é€šè¿‡å¦‚ä¸‹å‘½ä»¤å°†aidlç”Ÿæˆçš„javaæ–‡ä»¶æ‹·è´åˆ° æºç æ ¹ç›®å½•çš„`idea/aidl/src`ç›®å½•ä¸‹\n\n```shell\ncroot\nmkdir -p idea/aidl/src\nfind out/soong/.intermediates/frameworks/base/api-stubs-docs-non-updatable/android_common/gen/aidl -name \"*.srcjar\" | xargs -I {} unzip {} -d idea/aidl/src\n```\n\n##### è·å–ç”Ÿæˆçš„èµ„æº\n\n```shell\ncp -R out/soong/.intermediates/frameworks/base/core/res/framework-res/android_common/gen/aapt2/R idea/framework-res_R\n```\n\n\n\n#### ç¼–è¾‘æ’é™¤è§„åˆ™å¹¶ç”Ÿæˆé…ç½®\n\n1. åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ·»åŠ ä¸€ä¸ª `excluded-paths` æ–‡ä»¶ï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼ˆä¸€è¡Œä½œä¸ºä¸€ä¸ªåŒ¹é…è§„åˆ™ï¼Œè§„åˆ™çš„æ ¼å¼æŒ‰Javaä¸­Patternç±»çš„è§„åˆ™ç¼–å†™ï¼‰\n\n   ```shell\n   # å‡ ä¸ªæ ¹ç›®å½•çš„è§„åˆ™\n   ^art/.*\n   ^packages/.*\n   ^bootable/.*\n   ^build/.*\n   ^cts/.*\n   ^dalvik/.*\n   ^developers/.*\n   ^external/.*\n   ^platform_testing/.*\n   ^pdk/.*\n   ^sdk/.*\n   ^system/.*\n   ^test/.*\n   \n   # platform-compatä¸­æœ‰æ³¨è§£çš„ç±»\n   ^tools/(?!(platform-compat))\n   ^development/.*\n   ^device/.*\n   ^prebuilts/*\n   \n   # è¿™é‡Œæˆ‘ä»¬æŸ¥çœ‹è¿™ä¸¤ä¸ªæ¨¡å—ï¼Œæ‰€ä»¥æ³¨é‡Šæ‰\n   #^libcore/.*\n   #^frameworks/.*\n   # å…³äºoutå…¶ä»–çš„ä¸€äº›è§„åˆ™\n   ^out/soong/.intermediates/(?!((frameworks)|(libcore)))\n   # ./out/soong/.intermediates/frameworks/native/libs/binder/libbinder/android_x86_64_shared/gen/aidl/android/os/BnServiceManager.h\n   # ^out/soong/.intermediates/.*\n   ^out/target/.*\n   \n   # æ ¹æ®å®é™…è¿è¡Œæƒ…å†µè¡¥å……çš„è§„åˆ™\n   # ç§»é™¤å¯èƒ½çš„jar\n   # å¦‚ ./frameworks/base/tools/aapt2/integration-tests/CommandTests/android-28.jar\n   ^frameworks/base/tools/aapt2/.*\\.jar\n   ^frameworks/base/tests\n   ^libcore/support/src/test\n   ^libcore/luni/src/test\n   gradle-wrapper.jar\n   \n   # å¯¹äºsdkæºç çš„éšè—ï¼Œæˆ‘ä»¬excludeæ‰ï¼Œä»¥ä½¿å¯ä»¥æ‰¾åˆ°çœŸæ­£çš„æºç \n   ^libcore/ojluni/annotations\n   ```\n\n2. ç”Ÿæˆimlæ–‡ä»¶ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤ç”Ÿæˆ\n\n   ```shell\n   development/tools/idegen/idegen.sh\n   ```\n\n   å®Œæˆåæ ¹ç›®å½•ä¸‹å³ç”Ÿæˆäº†`android.iml`,`android.ipr` \n\n### å¯¼å…¥åˆ°AndroidStudio\n\n#### androidstudio é…ç½®\n\n1. é…ç½®jvmé€‰é¡¹ï¼Œæ ¹æ®æœºå™¨å®é™…æƒ…å†µè®¾ç½®vmåˆ†é…çš„å†…å­˜ç­–ç•¥\n\n   <img src=\"https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402093304.png\" alt=\"image-20210402093304425\"  />\n\n   ```shell\n   -Xmx16g\n   -Xms2g\n   ```\n\n2. é…ç½® idea å±æ€§\n\n   <img src=\"https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210401212321.png\" alt=\"image-20210401212321136\" style=\"zoom:40%;\" />\n\n   ```shell\n   # å¤§å°å†™æ•æ„Ÿï¼ˆmacOSï¼‰\n   idea.case.sensitive.fs=true\n   \n   idea.max.intellisense.filesize=100000\n   ```\n\n#### å¯¼å…¥é¡¹ç›®åˆ°ASå¹¶é…ç½®\n\né…ç½®sdkä¸»è¦æ˜¯ä¸ºäº†é¿å…æŸ¥çœ‹æˆ–è°ƒè¯•ä»£ç æ—¶ï¼ŒASä»ç„¶å»ä½¿ç”¨SDKä¸­é…ç½®çš„classï¼Œè€Œä¸æ˜¯æˆ‘ä»¬çš„aospä¸­çš„javaæºç ã€‚\n\n1. ä½¿ç”¨AndroidStudio æ‰“å¼€é¡¹ç›®æ ¹ç›®å½•ä¸‹ `android.ipr` æ–‡ä»¶å³å¯å¯¼å…¥é¡¹ç›®ï¼›\n\n2. é…ç½®é¡¹ç›®SDKï¼Œè¿›å…¥é¡¹ç›®è®¾ç½®ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„JDKï¼Œå¹¶åˆ é™¤æ‰€æœ‰ä¾èµ–jaråº“ï¼Œæˆ‘ä»¬è¿™é‡Œå–åä¸ºï¼š`1.8 (No Libraries)`\n\n   <img src=\"https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402095209.png\" alt=\"image-20210402095209074\" style=\"zoom:67%;\" />\n\n3. é…ç½®é¡¹ç›®SDKï¼Œè¿›å…¥é¡¹ç›®è®¾ç½®ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„SDKï¼Œå¹¶åˆ é™¤æ‰€æœ‰jaråº“ï¼Œå¯¹åº”çš„JDKé€‰æ‹©ä¹‹å‰åˆ›å»ºçš„`1.8 (No Libraries)`ï¼Œè¿™é‡Œæˆ‘ä»¬å°†SDKå‘½åä¸º `Android API 30 Platform-NoLib`\n\n   <img src=\"https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402095255.png\" alt=\"image-20210402095255063\" style=\"zoom:67%;\" />\n\n4. åœ¨Projectè®¾ç½®ä¸­ï¼Œé€‰æ‹©é¡¹ç›®SDKä¸ºä¹‹å‰è®¾ç½®çš„ `Android API 30 Platform-NoLib`\n\n   <img src=\"https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402095343.png\" alt=\"image-20210402095343474\" style=\"zoom:67%;\" />\n\n5. è¿›å…¥é¡¹ç›®è®¾ç½®-æ¨¡å—è®¾ç½®ï¼Œå°†æ¨¡å—çš„SDKè®¾ç½®ä¸ºä¹‹å‰è®¾ç½®çš„  `Android API 30 Platform-NoLib` \n\n   <img src=\"https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402095449.png\" alt=\"image-20210402095449805\" style=\"zoom:67%;\" />\n\n#### é™„åŠ è°ƒè¯•å™¨åˆ° system_process \n\n1. é™„åŠ è°ƒè¯•å™¨åˆ° `system_process` è¿›ç¨‹\n\n![image-20210402093915683](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402093915.png)\n\n![image-20210402095736899](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402095736.png)\n\n2. æˆåŠŸåçš„Debuggerç•Œé¢å¦‚ä¸‹æ‰€ç¤º\n\n   ![image-20210402100639004](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402100639.png)\n\n3. æ‰“æ–­ç‚¹æµ‹è¯•ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©åœ¨ `Binder.java` æ–‡ä»¶ä¸­æ·»åŠ æ–­ç‚¹ï¼Œç„¶ååœ¨æ¨¡æ‹Ÿå™¨ä¸­æ‰“å¼€ç›¸æœºAPPä»¥è§¦å‘æ–­ç‚¹é€»è¾‘ã€‚ä¸‹å›¾å°±è¡¨ç¤ºæˆ‘ä»¬åˆ°è¾¾äº†æ–­ç‚¹ï¼Œè¯´æ˜æˆ‘ä»¬å¯ä»¥é€šè¿‡ASæ¥è°ƒè¯•è¯¥è¿›ç¨‹äº†ã€‚\n\n   ![image-20210402101258438](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402101258.png)\n\n> æç¤ºï¼šé™„åŠ è°ƒè¯•å™¨æ—¶ï¼Œå¦‚æ‰¾ä¸åˆ°è®¾å¤‡ï¼Œå¯å‚è€ƒç¬¬5å°èŠ‚ä¸­çš„ *é”™è¯¯è§£å†³ï¼šDebugä¸­ä¸æ˜¾ç¤ºè®¾å¤‡*\n\n## ä¿®æ”¹å¹¶æ›´æ–°ç³»ç»Ÿæ¨¡å—\n\nåœ¨è°ƒè¯•åˆ†æè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹å…¶ä¸­å†…å®¹ä»¥ååŠ©åˆ†æï¼Œå¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼è¿›è¡Œã€‚\n\n### Framework\n\næ„å»º framework åˆ†ä¸¤å—ï¼š\n\n1. JAR éƒ¨åˆ†ä½¿ç”¨å‘½ä»¤ `mmm frameworks/base/`\n2. èµ„æºéƒ¨åˆ†ï¼š `mmm frameworks/base/core/res/`\n\n**å®‰è£…ï¼š**\n\n```shell\n# è·å–rootæƒé™\nadb root\nadb disable-verity\nadb reboot\nadb remount\n# ç§»é™¤æ—§çš„framework\nadb shell\ncd /system/framework/\nrm framework-res.apk\nexit\n\n# æ¨å…¥æ–°çš„framework\nadb push out/target/product/<device_targeted>/system/framework/framework-res.apk /system/framework/\n\n# é‡å¯æœåŠ¡\nadb reboot\n```\n\n### packagesä¸­app\n\n* æ„å»º\n\n```shell\ncd ~/aosp\nsource build/envsetup.sh \nlunch aosp_x86_64-eng\n# é‡æ–°æ„å»ºå•ä¸ªæ¨¡å— (å¦‚ Dialer)\nmmm packages/apps/dialer/\n# ç”Ÿæˆçš„æ–‡ä»¶ä¼šåœ¨æ§åˆ¶å°ä¸­è¾“å‡ºæ¥\n```\n\n* æ›´æ–°åˆ°ç³»ç»Ÿ\n\n```shell\nadb install -r out/target/product/<device_targeted>/system/priv-app/<app_name>/<app_name>.apk\nadb reboot\n```\n\n### SystemUI\n\n* ç¼–è¯‘\n\n```shell\ncd WORKING_DIRECTORY\nsource build/envsetup.sh\n# é€‰æ‹©è®¾å¤‡\nlunch 31\n# é‡æ–°æ„å»ºSystemUI\nmmm frameworks/base/packages/SystemUI/\n```\n\n* å®‰è£…åˆ°ç³»ç»Ÿ\n\n```shell\nadb install -r out/target/product/<device_targeted>/system/priv-app/SystemUI/SystemUI.apk\nadb reboot\n```\n\n\n\n## ä½¿ç”¨æç¤ºåŠå¸¸è§é”™è¯¯\n\n### ä½¿ç”¨æç¤ºï¼šé¡¹ç›®æºç æµè§ˆé…ç½®\n\n#### ç­›é€‰Projectä»£ç èŒƒå›´\n\n1. ç‚¹å‡»projectçª—å£çš„è®¾ç½®æŒ‰é’®ï¼Œé€‰æ‹© â€œEdit Scopesâ€\n\n   ![image-20210402104239366](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402104239.png)\n\n2. æ–°å»ºä¸€ä¸ªè§„åˆ™ï¼Œè¾“å…¥åç§°ï¼Œå¹¶åœ¨Patternä¸­è¾“å…¥è¿‡æ»¤è§„åˆ™ï¼š `file[android]:frameworks//*||file[android]:libcore//*`\n\n   <img src=\"https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402104205.png\" alt=\"image-20210402104205399\" style=\"zoom:67%;\" />\n\n#### è¿‡æ»¤VCSé…ç½®ä¸­ä¸å¿…è¦çš„æ¨¡å—\n\næ‰“å¼€VCSé…ç½®ï¼Œç§»é™¤frameworkså’Œlibcoreä¹‹å¤–çš„æ‰€æœ‰å…¶ä»–æ¨¡å—\n\n<img src=\"https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402105446.png\" alt=\"image-20210402105446083\" style=\"zoom: 67%;\" />\n\n### ä½¿ç”¨æç¤ºï¼šå¯¼å…¥å…¶ä»–æ¨¡å—çš„æºç åˆ°AS\n\nä¸å»ºè®®ç›´æ¥ä¿®æ”¹ android.iml æ–‡ä»¶ï¼Œåº”å½“é€šè¿‡ä¿®æ”¹æºç æ ¹ç›®å½•è‡ªå®šä¹‰çš„ `excluded-paths` æ–‡ä»¶ä¸­å®šä¹‰çš„è§„åˆ™æ¥åŒ…å«å…¶ä»–æ¨¡å—çš„æºç ã€‚\n\nä¿®æ”¹æ­¤æ–‡ä»¶åï¼Œé‡æ–°æ‰§è¡Œ `development/tools/idegen/idegen.sh` æ¥ç”Ÿæˆæœ€æ–°çš„asé¡¹ç›®é…ç½®ã€‚ç”Ÿæˆå®Œæˆåä¸€èˆ¬aså¦‚æœæ˜¯æ‰“å¼€çŠ¶æ€ï¼Œä¼šè‡ªåŠ¨æ›´æ–°ç´¢å¼•ï¼Œå¦‚æœç´¢å¼•æ›´æ–°æœ‰é—®é¢˜ï¼Œå¯å…³é—­é¡¹ç›®ï¼Œç„¶åé‡æ–°æ‰“å¼€ã€‚\n\n### é”™è¯¯è§£å†³ï¼šmacOS .DS_Store å¯¼è‡´æ‰“åŒ…é•œåƒå¤±è´¥\n\nç¼–è¯‘åŸºæœ¬å®Œæˆï¼Œä½†æ˜¯æœ€åæ‰“åŒ…system.imgæ–‡ä»¶æ—¶æŠ¥é”™ï¼ŒæŠ¥é”™å†…å®¹å¦‚ä¸‹ï¼š\n\n```shell\nset_selinux_xattr: No such file or directory searching for label \"/.DS_Store\"\ne2fsdroid: No such file or directory while configuring the file system\n\n10:00:38 ninja failed with: exit status 1\n```\n\nè§£å†³æ–¹å¼ï¼šåˆ é™¤æºç ç›®å½•ä¸­çš„æ‰€æœ‰ `.DS_Store`ï¼Œå¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿›è¡Œç»Ÿä¸€æ¸…ç†\n\n```shell\nfind . -name \".DS_Store\"  | xargs -I {} rm {} \n```\n\n> è¯´æ˜ï¼š .DS_Store æ–‡ä»¶ä¸ºmacOSä¸­å­˜å‚¨æ–‡ä»¶å¤¹ç•Œé¢å±•ç¤ºç›¸å…³çš„ä¸€äº›ä¿¡æ¯ï¼Œåœ¨Finderä¸­æŸ¥çœ‹å¯¹åº”ç›®å½•åå¯èƒ½ä¼šç”Ÿæˆ\n\n### é”™è¯¯è§£å†³ï¼šé™„åŠ è°ƒè¯•å™¨æ—¶ä¸æ˜¾ç¤ºè®¾å¤‡\n\nåœ¨é™„åŠ è°ƒè¯•å™¨æ—¶ï¼Œå¯èƒ½ä¼šå¦‚ä¸‹å›¾ä¸€æ ·ï¼Œæ¨¡æ‹Ÿå™¨å·²ç»å¯åŠ¨äº†ï¼Œä½†æ˜¯é™„åŠ è°ƒè¯•å™¨çš„çª—å£ä¸­è®¾å¤‡åˆ—è¡¨ä¸­æ²¡æœ‰è®¾å¤‡\n\n![image-20210402121454042](https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402121454.png)\n\næ­¤æ—¶æ£€æŸ¥è‡ªå·±çš„é¡¹ç›®é…ç½®ä¸­çš„SDKæ˜¯å¦é€‰æ‹©äº†AndroidSDKï¼Œè®¾ç½®æˆ Android SDK å³å¯\n\n<img src=\"https://gitee.com/hanlyjiang/image-repo/raw/master/imgs/20210402121537.png\" alt=\"image-20210402121537412\" style=\"zoom:67%;\" />\n\n\n\n### é”™è¯¯è§£å†³ï¼šæ¨¡æ‹Ÿå™¨æ— æ³•å¯åŠ¨-æŠ¥æ‰¾ä¸åˆ°å†…æ ¸ç‰ˆæœ¬ä¿¡æ¯\n\nå½“ä½¿ç”¨ `android-11.0.0_r28` ç‰ˆæœ¬æ—¶ï¼Œç¼–è¯‘é€šè¿‡åï¼Œä½¿ç”¨emulatorå¯åŠ¨æ—¶ï¼ŒæŠ¥å‡ºå¦‚ä¸‹é”™è¯¯\n\n```shell\nemulator: ERROR: Can't find 'Linux version ' string in kernel image file: /Volumes/HIKVISION/google-aosp/out/target/product/generic_x86_64/kernel-ranchu\n```\n\nåŸå› æ˜¯emulatorç‰ˆæœ¬è¿‡æ—§ï¼Œéœ€è¦ä½¿ç”¨æ–°çš„emulatorï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è·å–æ–°çš„ç‰ˆæœ¬ï¼š\n\n```shell\ncd prebuilts/android-emulator\n# æŸ¥è¯¢å¯ç”¨åˆ†æ”¯ï¼Œhttps://android.googlesource.com/platform/prebuilts/android-emulator/+refs\ngit fetch aosp android-11.0.0_r33:refs/remotes/m/android-11.0.0_r33\n# æ£€å‡ºåˆ†æ”¯\ngit co -b android-11.0.0_r33 refs/remotes/m/\nandroid-11.0.0_r33\n```\n\nè·å–å®Œæˆåå†æ¬¡æ‰§è¡Œ `emulator` å‘½ä»¤\n\n```shell\nemulator -version\n# Android emulator version 30.3.0.0 (build_id 6946397) (CL:N/A)\nemulator \n# å¯åŠ¨æ¨¡æ‹Ÿå™¨\n```\n\n## å‚è€ƒæ–‡ç« \n\n**å‚è€ƒï¼š** \n\n* [ä½¿ç”¨ Android Studio é˜…è¯» AOSP æºç ](https://blog.devwu.com/2019/06/23/how-to-reading-AOSP-with-Android-Studio/)\n* [AOSP Source Code in Android Studio (Explore only)](https://param105.medium.com/aosp-source-code-in-android-studio-explore-only-1cdc3081cf51)\n* [Stackoverflow aosp-and-intellij-idea](https://stackoverflow.com/questions/16582112/aosp-and-intellij-idea)\n* [Building Android O with a Mac - Christopher Ney](https://medium.com/@christopherney/building-android-o-with-a-mac-da07e8bd94f9)\n* [Building Android 11 for PH-1 on Apple Silicon](https://nf4789.medium.com/building-android-11-for-ph-1-on-apple-silicon-6600436a36a0)\n* [Could not find a supported mac sdk: â€œ10.10â€ â€œ10.11â€ â€œ10.12â€ â€œ10.13â€](https://stackoverflow.com/questions/50760701/could-not-find-a-supported-mac-sdk-10-10-10-11-10-12-10-13)\n* [åˆ›å»ºåŒºåˆ†å¤§å°å†™çš„ç£ç›˜æ˜ åƒ-source.android.google.cn](https://source.android.google.cn/setup/build/initializing?hl=zh-cn#creating-a-case-sensitive-disk-image)\n\n\n\n",
      "data": {
        "title": "æ­å»ºAndroidæºç å·¥ä½œç¯å¢ƒ",
        "date": "2021-04-08 10:18:50",
        "tags": [],
        "published": true,
        "hideInList": false,
        "feature": null,
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "æ­å»ºAndroidæºç å·¥ä½œç¯å¢ƒ"
    },
    {
      "content": "> æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤\n\n## ğŸ  å…³äºæœ¬ç«™\n\n## ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°\n\n## â›¹ å…´è¶£çˆ±å¥½\n\n## ğŸ“¬ è”ç³»æˆ‘å‘€\n",
      "data": {
        "title": "å…³äº",
        "date": "2019-01-25 19:09:48",
        "tags": null,
        "published": true,
        "hideInList": true,
        "feature": null,
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "about"
    },
    {
      "content": "ğŸ‘  æ¬¢è¿ä½¿ç”¨ **Gridea** ï¼  \nâœï¸  **Gridea** ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ... \n\n<!-- more -->\n\n[Github](https://github.com/getgridea/gridea)  \n[Gridea ä¸»é¡µ](https://gridea.dev/)  \n[ç¤ºä¾‹ç½‘ç«™](http://fehey.com/)\n\n## ç‰¹æ€§ğŸ‘‡\nğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ **Markdown** è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ  \n\nğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡  \n\nğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„  \n\nğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•  \n\nğŸ’»  ä½ å¯ä»¥åœ¨ **Windows**ï¼Œ**MacOS** æˆ– **Linux** è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯  \n\nğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ **ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ** æˆ– **Coding Pages** å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°  \n\nğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ [Gitalk](https://github.com/gitalk/gitalk) æˆ– [DisqusJS](https://github.com/SukkaW/DisqusJS) è¯„è®ºç³»ç»Ÿ  \n\nğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨**ä¸­æ–‡ç®€ä½“**æˆ–**è‹±è¯­**  \n\nğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›  \n\nğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥  \n\nğŸŒ± å½“ç„¶ **Gridea** è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ\n\næœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´\n\nå°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼\n\nğŸ˜˜ Enjoy~\n",
      "data": {
        "title": "Hello Gridea",
        "date": "2018-12-12 00:00:00",
        "tags": [
          "Gridea"
        ],
        "published": true,
        "hideInList": false,
        "feature": "/post-images/hello-gridea.png",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "ğŸ‘  æ¬¢è¿ä½¿ç”¨ **Gridea** ï¼  \nâœï¸  **Gridea** ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ... ",
      "fileName": "hello-gridea"
    }
  ],
  "tags": [
    {
      "name": "Gridea",
      "slug": "iJMEiKV_v",
      "used": true
    }
  ],
  "menus": [
    {
      "link": "/",
      "name": "é¦–é¡µ",
      "openType": "Internal"
    },
    {
      "link": "/archives",
      "name": "å½’æ¡£",
      "openType": "Internal"
    },
    {
      "link": "/tags",
      "name": "æ ‡ç­¾",
      "openType": "Internal"
    },
    {
      "link": "/post/about",
      "name": "å…³äº",
      "openType": "Internal"
    }
  ]
}